(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2416:function(e,t,s){Promise.resolve().then(s.bind(s,8876))},8876:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var a=s(7437),n=s(2265);let r={none:{label:"No attestations",color:"text-ink-muted",barColor:"bg-wire-200",badge:"bg-wire-200 text-ink-muted"},low:{label:"Low trust",color:"text-signal-danger",barColor:"bg-signal-danger",badge:"bg-signal-danger/10 text-signal-danger border border-signal-danger/30"},moderate:{label:"Moderate trust",color:"text-signal-caution",barColor:"bg-signal-caution",badge:"bg-signal-caution/10 text-signal-caution border border-signal-caution/30"},trusted:{label:"Trusted",color:"text-signal-trusted",barColor:"bg-signal-trusted",badge:"bg-signal-trusted/10 text-signal-trusted border border-signal-trusted/30"}};function i(e){var t;let{info:s,showBar:n=!0,size:i="md"}=e,o=r[t=s.trustScore,0n===s.attestationCount?"none":t<300n?"low":t<700n?"moderate":"trusted"],l=Math.min(100,Number(s.trustScore)/1e3*100);return(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-end gap-3",children:[(0,a.jsx)("span",{className:"font-mono font-bold ".concat({sm:"text-xl",md:"text-3xl",lg:"text-5xl"}[i]," ").concat(o.color," tabular-nums"),children:s.trustScore.toString()}),(0,a.jsxs)("div",{className:"mb-1 flex flex-col gap-0.5",children:[(0,a.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-mono font-medium ".concat(o.badge),children:o.label}),(0,a.jsxs)("span",{className:"font-mono ".concat({sm:"text-xs",md:"text-sm",lg:"text-base"}[i]," text-ink-muted"),children:[s.attestationCount.toString()," ",1n===s.attestationCount?"auditor":"auditors"]})]})]}),n&&(0,a.jsx)("div",{className:"relative h-1.5 bg-wire rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 rounded-full transition-all duration-700 ".concat(o.barColor),style:{width:"".concat(l,"%")}})})]})}function o(e){let{quality:t,ts:s}=e,n=Math.floor((Date.now()-s.getTime())/864e5),r="".concat(t,"%"),i=t>=80?"bg-signal-trusted":t>=50?"bg-signal-caution":"bg-signal-danger";return(0,a.jsxs)("div",{className:"flex items-center gap-3 py-2 border-b border-wire/50 last:border-0",children:[(0,a.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[(0,a.jsx)("div",{className:"relative flex-1 h-1 bg-wire rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 rounded-full ".concat(i),style:{width:r}})}),(0,a.jsx)("span",{className:"font-mono text-xs text-ink-muted tabular-nums w-8 text-right",children:t})]}),(0,a.jsx)("span",{className:"font-mono text-xs text-ink-faint shrink-0 w-20 text-right",children:0===n?"today":1===n?"1 day ago":"".concat(n," days ago")})]})}var l=s(9768),d=s(1266),c=s(7138);let u=[{label:"weather-reporter-v2",hash:"0x7f3ac4b82d19e8a1f5b6c3d4e9f2a0b7c8d5e6f1a2b3c4d5e6f7a8b9c0d1e2f",trusted:!0},{label:"code-formatter-v1",hash:"0x1a2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a0b1c2d3e4f5a6b7c8d9e0f1a2",trusted:!0},{label:"get-weather (MALICIOUS — see P0 Labs report)",hash:"0xdeadbeefcafebabe0102030405060708090a0b0c0d0e0f101112131415161718",trusted:!1}];function m(){let[e,t]=(0,n.useState)(()=>new l.zW("0x000000000000000000000000000000000000000000000000000000000000public"));(0,n.useEffect)(()=>{d.v.useMock||s.e(792).then(s.bind(s,2792)).then(e=>{let{RealSdkWrapper:t}=e;return t.create(d.v.pxeUrl,d.v.contractAddress)}).then(e=>t(e)).catch(()=>{})},[]);let[r,m]=(0,n.useState)(""),[x,h]=(0,n.useState)(null),[f,b]=(0,n.useState)(null),[g,p]=(0,n.useState)([]),[y,v]=(0,n.useState)(!1),[w,k]=(0,n.useState)(null),[N,j]=(0,n.useState)(!1),A=(0,n.useCallback)(e=>/^0x[0-9a-fA-F]{1,64}$/.test(e.trim()),[]),C=(0,n.useCallback)(async t=>{let s=t.trim();if(s){if(!A(s)){k("Invalid hash format. Expected 0x followed by up to 64 hex characters.");return}v(!0),k(null),b(null),p([]),h(s);try{let[t,a]=await Promise.all([e.getTrustScore(s),e.getAttestationHistory(s)]);b(t),p(a)}catch(e){k(e instanceof Error?e.message:"Query failed")}finally{v(!1)}}},[A,e]),S=(0,n.useCallback)(()=>{C(r)},[r,C]),I=(0,n.useCallback)(e=>{"Enter"===e.key&&S()},[S]),q=(0,n.useCallback)(async e=>{v(!0),k(null);try{let t=await (0,l.ri)(e);m(t),await C(t)}catch(e){k("Failed to compute skill hash from file.")}finally{v(!1)}},[C]),T=(0,n.useCallback)(e=>{e.preventDefault(),j(!1);let t=e.dataTransfer.files[0];t&&q(t)},[q]);return(0,a.jsxs)("div",{className:"space-y-10",children:[(0,a.jsxs)("div",{className:"pt-8 pb-4 border-b border-wire space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"font-mono text-xs text-amber tracking-widest uppercase",children:"Built on Aztec \xb7 Zero-Knowledge \xb7 Owned by No One"}),(0,a.jsx)("h1",{className:"font-mono text-3xl text-ink font-medium leading-tight",children:"The Isnad Chain"}),(0,a.jsx)("p",{className:"font-mono text-base text-ink-muted max-w-2xl leading-relaxed",children:"A privacy-preserving skill attestation registry for AI agents. Auditors verify skills anonymously using ZK proofs. Trust scores are public. Auditor identities are not."})]}),(0,a.jsx)("div",{className:"grid gap-4 sm:grid-cols-3",children:[{label:"Anonymous Attestation",desc:"Auditors submit ZK proofs. Their identity never touches the chain — only the trust signal does."},{label:"Content-Addressed",desc:"Trust is tied to SHA256 of skill content. Modify the file, the hash changes, prior attestations expire."},{label:"Private Credential Vault",desc:"Store API keys as private notes on Aztec L2. Grant scoped access per skill via AuthWit."}].map(e=>{let{label:t,desc:s}=e;return(0,a.jsxs)("div",{className:"p-4 border border-wire rounded-lg space-y-1.5",children:[(0,a.jsx)("div",{className:"font-mono text-xs text-amber",children:"⬡"}),(0,a.jsx)("div",{className:"font-mono text-xs text-ink",children:t}),(0,a.jsx)("div",{className:"font-mono text-xs text-ink-faint leading-relaxed",children:s})]},t)})}),(0,a.jsxs)("div",{className:"flex items-center gap-6 font-mono text-xs text-ink-faint",children:[(0,a.jsx)("a",{href:"https://github.com/zac-williamson/aztec-agentic-privacy",target:"_blank",rel:"noopener noreferrer",className:"hover:text-ink transition-colors",children:"GitHub →"}),(0,a.jsx)("span",{children:"Aztec devnet \xb7 v0.1.0"}),(0,a.jsx)("span",{children:"Demo mode — no wallet required to browse"})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("h2",{className:"font-mono text-lg text-ink",children:[(0,a.jsx)("span",{className:"text-amber",children:"⬡"})," Skill Trust Browser"]}),(0,a.jsx)("p",{className:"font-mono text-sm text-ink-muted max-w-2xl leading-relaxed",children:"Check a skill's trust score before installing it. Enter its SHA256 hash or drop the file to compute the hash locally."})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:r,onChange:e=>m(e.target.value),onKeyDown:I,placeholder:"0x7f3a... (SHA256 of skill file content)",className:"\n              flex-1 bg-void-100 border rounded px-3 py-2.5\n              font-mono text-sm text-ink placeholder-ink-faint\n              transition-colors focus:outline-none\n              ".concat(r.trim()&&!A(r)?"border-signal-danger focus:border-signal-danger":"border-wire focus:border-amber","\n            ")}),(0,a.jsx)("button",{onClick:S,disabled:y||!r.trim()||!A(r),className:" px-4 py-2.5 rounded border border-wire-50 font-mono text-sm text-ink-muted hover:border-amber hover:text-amber transition-colors disabled:opacity-30 disabled:cursor-not-allowed ",children:y?"...":"Search"})]}),(0,a.jsxs)("div",{className:"upload-zone rounded p-4 text-center cursor-pointer ".concat(N?"drag-over":""),onDragOver:e=>{e.preventDefault(),j(!0)},onDragLeave:()=>j(!1),onDrop:T,onClick:()=>{var e;return null===(e=document.getElementById("file-input"))||void 0===e?void 0:e.click()},children:[(0,a.jsx)("input",{id:"file-input",type:"file",className:"hidden",onChange:e=>{var t;return(null===(t=e.target.files)||void 0===t?void 0:t[0])&&q(e.target.files[0])}}),(0,a.jsxs)("p",{className:"font-mono text-xs text-ink-muted",children:["or"," ",(0,a.jsx)("span",{className:"text-ink hover:text-amber transition-colors",children:"drop / click to upload a skill file"})," ","— hash computed locally, nothing sent to any server"]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"font-mono text-xs text-ink-faint",children:"Example skills (demo data):"}),(0,a.jsx)("div",{className:"grid gap-2 sm:grid-cols-3",children:u.map(e=>{let{label:t,hash:s,trusted:n}=e;return(0,a.jsxs)("button",{onClick:()=>{m(s),C(s)},className:" text-left p-3 rounded border border-wire hover:border-wire-100 transition-colors group ",children:[(0,a.jsx)("div",{className:"font-mono text-xs text-ink-muted group-hover:text-ink transition-colors truncate",children:t}),(0,a.jsxs)("div",{className:"font-mono text-xs text-ink-faint truncate mt-0.5",children:[s.slice(0,18),"..."]}),(0,a.jsx)("div",{className:"mt-1.5 font-mono text-xs ".concat(n?"text-signal-trusted":"text-signal-danger"),children:n?"● trusted":"● not attested"})]},s)})})]}),(f||y||w)&&(0,a.jsxs)("div",{className:"border border-wire rounded-lg overflow-hidden",children:[(0,a.jsx)("div",{className:"border-b border-wire bg-void-100 px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-mono text-xs text-ink-muted",children:"skill hash"}),(0,a.jsx)("span",{className:"font-mono text-xs text-ink break-all",children:x})]})}),y&&(0,a.jsxs)("div",{className:"p-6 flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-amber animate-pulse"}),(0,a.jsx)("span",{className:"font-mono text-sm text-ink-muted",children:"Querying trust score..."})]}),w&&(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)("p",{className:"font-mono text-sm text-signal-danger",children:w})}),f&&!y&&(0,a.jsxs)("div",{className:"p-6 space-y-8",children:[(0,a.jsx)(i,{info:f,size:"lg"}),g.length>0?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"font-mono text-xs text-ink-muted uppercase tracking-widest",children:"Attestation History"}),(0,a.jsx)("span",{className:"font-mono text-xs text-ink-faint",children:"no auditor identities recorded"})]}),(0,a.jsx)("div",{children:g.map((e,t)=>(0,a.jsx)(o,{quality:e.quality,ts:e.ts},t))})]}):(0,a.jsxs)("div",{className:"p-4 border border-wire/50 rounded text-center",children:[(0,a.jsx)("p",{className:"font-mono text-sm text-ink-muted",children:"No attestations found."}),(0,a.jsx)("p",{className:"font-mono text-xs text-ink-faint mt-1",children:"This skill has not been audited. Install at your own risk."})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 pt-2 border-t border-wire",children:[(0,a.jsx)(c.default,{href:"/audit",className:"font-mono text-xs text-amber hover:underline",children:"Attest this skill →"}),(0,a.jsx)("span",{className:"font-mono text-xs text-ink-faint",children:"Anonymous. ZK proof. ~15-30 seconds."})]})]})]}),!f&&!y&&!w&&(0,a.jsxs)("div",{className:"border border-wire rounded-lg p-6 space-y-4",children:[(0,a.jsx)("h2",{className:"font-mono text-sm text-ink",children:"How it works"}),(0,a.jsx)("div",{className:"grid gap-6 sm:grid-cols-3",children:[{icon:"⬡",title:"Anonymous attestation",body:"Auditors examine skill files and submit ZK attestations. Their identities never appear in public state — only the trust score increments."},{icon:"⬡",title:"Content-addressed",body:"Trust scores are keyed to the SHA256 of skill file content. If the file changes, the hash changes — prior attestations no longer apply."},{icon:"⬡",title:"Private credential vault",body:"Store API keys and secrets as private notes on Aztec. Grant scoped access to individual skills via AuthWit — never expose your full vault."}].map(e=>{let{icon:t,title:s,body:n}=e;return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"text-amber font-mono text-lg",children:t}),(0,a.jsx)("h3",{className:"font-mono text-sm text-ink",children:s}),(0,a.jsx)("p",{className:"font-mono text-xs text-ink-muted leading-relaxed",children:n})]},s)})})]})]})}},1266:function(e,t,s){"use strict";s.d(t,{v:function(){return a}});let a={useMock:!0,pxeUrl:"http://localhost:8080",contractAddress:"0x127bfb034e149e8ce44b0036833a0bb1ab230930a7ea814fea7eac1a4bcb2747",appName:"The Isnad Chain",appDescription:"ZK Skill Attestation & Credential Registry for AI Agents",version:"0.1.0-devnet"}},9768:function(e,t,s){"use strict";s.d(t,{ri:function(){return o},zW:function(){return l}});let a=[{hash:"0x7f3ac4b82d19e8a1f5b6c3d4e9f2a0b7c8d5e6f1a2b3c4d5e6f7a8b9c0d1e2f",score:847n,count:9n,history:[{quality:95,daysAgo:2},{quality:88,daysAgo:3},{quality:92,daysAgo:5},{quality:78,daysAgo:7},{quality:100,daysAgo:9},{quality:85,daysAgo:12},{quality:90,daysAgo:15},{quality:72,daysAgo:18},{quality:47,daysAgo:21}]},{hash:"0x1a2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a0b1c2d3e4f5a6b7c8d9e0f1a2",score:312n,count:4n,history:[{quality:88,daysAgo:1},{quality:75,daysAgo:4},{quality:82,daysAgo:6},{quality:67,daysAgo:10}]},{hash:"0xdeadbeefcafebabe0102030405060708090a0b0c0d0e0f101112131415161718",score:0n,count:0n,history:[]}];function n(){let e=new Uint8Array(32);return"undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues(e),"0x"+Array.from(e).map(e=>e.toString(16).padStart(2,"0")).join("")}function r(){let e=3e3+2e3*Math.random();return new Promise(t=>setTimeout(t,e))}function i(){return new Promise(e=>setTimeout(e,300+200*Math.random()))}async function o(e){let t=await e.arrayBuffer();return"0x"+Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("")}class l{get walletAddress(){return this.state.walletAddress}async getTrustScore(e){var t,s;await i();let a=e.toLowerCase(),n=this.state.trustScores.get(a);return{skillHash:e,trustScore:null!==(t=null==n?void 0:n.score)&&void 0!==t?t:0n,attestationCount:null!==(s=null==n?void 0:n.count)&&void 0!==s?s:0n}}async getAttestationHistory(e){var t;await i();let s=e.toLowerCase(),a=this.state.trustScores.get(s);return null!==(t=null==a?void 0:a.history)&&void 0!==t?t:[]}async attest(e,t){var s;let a=e.skillHash.toLowerCase();if(this.state.myAttestations.some(e=>e.skillHash.toLowerCase()===a&&!e.revoked))throw Error("You have already attested this skill (SingleUseClaim prevents double-attestation).");null==t||t("proving"),await r(),null==t||t("submitting"),await new Promise(e=>setTimeout(e,500));let i=n(),o=new Date,l=null!==(s=this.state.trustScores.get(a))&&void 0!==s?s:{score:0n,count:0n,history:[]};return this.state.trustScores.set(a,{score:l.score+BigInt(e.quality),count:l.count+1n,history:[{quality:e.quality,ts:o},...l.history]}),this.state.myAttestations.unshift({skillHash:e.skillHash,quality:e.quality,timestamp:o,txHash:i,revoked:!1}),{txHash:i}}async revokeAttestation(e,t){let s=e.toLowerCase(),a=this.state.myAttestations.find(e=>e.skillHash.toLowerCase()===s&&!e.revoked);if(!a)throw Error("No active attestation found for this skill.");null==t||t("proving"),await r(),null==t||t("submitting"),await new Promise(e=>setTimeout(e,500));let i=n(),o=this.state.trustScores.get(s);return o&&this.state.trustScores.set(s,{score:o.score>=BigInt(a.quality)?o.score-BigInt(a.quality):0n,count:o.count>0n?o.count-1n:0n,history:o.history.filter(e=>e.ts!==a.timestamp)}),a.revoked=!0,{txHash:i}}getMyAttestations(){return[...this.state.myAttestations]}async storeCredential(e,t){if(this.state.credentials.has(e.keyId))throw Error("Credential '".concat(e.keyId,"' already exists. Use rotateCredential() to replace."));return null==t||t("proving"),await r(),null==t||t("submitting"),await new Promise(e=>setTimeout(e,500)),this.state.credentials.set(e.keyId,{label:e.label,value:e.value}),{txHash:n()}}async getCredential(e){await i();let t=this.state.credentials.get(e);return t?{keyId:e,value:t.value,label:t.label}:null}async deleteCredential(e,t){if(!this.state.credentials.has(e))throw Error("No credential found with keyId '".concat(e,"'."));return null==t||t("proving"),await r(),null==t||t("submitting"),await new Promise(e=>setTimeout(e,500)),this.state.credentials.delete(e),{txHash:n()}}async rotateCredential(e,t){if(!this.state.credentials.has(e.keyId))throw Error("No credential found with keyId '".concat(e.keyId,"'."));return null==t||t("proving"),await r(),null==t||t("submitting"),await new Promise(e=>setTimeout(e,500)),this.state.credentials.set(e.keyId,{label:e.newLabel,value:e.newValue}),{txHash:n()}}listCredentials(){return Array.from(this.state.credentials.entries()).map(e=>{let[t,{label:s}]=e;return{keyId:t,label:s}})}async grantCredentialAccess(e){var t;return await i(),{authwitNonce:null!==(t=e.nonce)&&void 0!==t?t:BigInt(Date.now())}}constructor(e){this.state=function(e){let t=new Map;for(let e of a){let s=Date.now();t.set(e.hash.toLowerCase(),{score:e.score,count:e.count,history:e.history.map(e=>{let{quality:t,daysAgo:a}=e;return{quality:t,ts:new Date(s-864e5*a)}})})}return{trustScores:t,myAttestations:[],credentials:new Map,walletAddress:e}}(e)}}}},function(e){e.O(0,[138,971,23,744],function(){return e(e.s=2416)}),_N_E=e.O()}]);