exports.id=797,exports.ids=[797],exports.modules={110:(e,t,s)=>{Promise.resolve().then(s.bind(s,4174)),Promise.resolve().then(s.bind(s,4753))},9974:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},4174:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var a=s(326),r=s(434),n=s(5047),i=s(4753);let o=[{href:"/",label:"Trust Browser"},{href:"/audit",label:"Audit"},{href:"/vault",label:"Vault"}];function l(){let e=(0,n.usePathname)(),{isConnected:t,displayAddress:s,connect:l,disconnect:c,isConnecting:d}=(0,i.c)();return a.jsx("header",{className:"border-b border-wire sticky top-0 bg-void/95 backdrop-blur z-50",children:(0,a.jsxs)("div",{className:"max-w-5xl mx-auto px-4 h-14 flex items-center gap-6",children:[(0,a.jsxs)(r.default,{href:"/",className:"flex items-center gap-2 mr-2 shrink-0",children:[a.jsx("span",{className:"text-amber font-mono text-xs tracking-widest opacity-70",children:"⬡"}),(0,a.jsxs)("span",{className:"font-mono text-sm text-ink font-medium tracking-tight",children:["isnad",a.jsx("span",{className:"text-amber",children:"."}),"chain"]})]}),a.jsx("nav",{className:"flex items-center gap-1 flex-1",children:o.map(({href:t,label:s})=>{let n=e===t;return a.jsx(r.default,{href:t,className:`
                  px-3 py-1.5 rounded text-xs font-mono transition-colors
                  ${n?"text-ink bg-wire-50":"text-ink-muted hover:text-ink hover:bg-void-300"}
                `,children:s},t)})}),a.jsx("div",{className:"flex items-center gap-3 shrink-0",children:t&&s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-signal-trusted animate-pulse"}),a.jsx("span",{className:"font-mono text-xs text-ink-muted",children:s})]}),a.jsx("button",{onClick:c,className:"text-xs text-ink-muted hover:text-ink-muted/60 transition-colors font-mono",children:"disconnect"})]}):a.jsx("button",{onClick:l,disabled:d,className:" px-3 py-1.5 rounded border border-wire-50 text-xs font-mono text-ink-muted hover:border-amber hover:text-amber transition-colors disabled:opacity-40 disabled:cursor-not-allowed ",children:d?(0,a.jsxs)("span",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber animate-pulse"}),"connecting"]}):"connect wallet"})})]})})}},4753:(e,t,s)=>{"use strict";s.d(t,{IsnadProvider:()=>l,c:()=>c});var a=s(326),r=s(7577),n=s(9179);let i={useMock:"false"!==process.env.NEXT_PUBLIC_USE_MOCK,pxeUrl:process.env.NEXT_PUBLIC_PXE_URL??"http://localhost:8080",contractAddress:process.env.NEXT_PUBLIC_CONTRACT_ADDRESS??"0x0000000000000000000000000000000000000000000000000000000000000000",appName:"The Isnad Chain",appDescription:"ZK Skill Attestation & Credential Registry for AI Agents",version:"0.1.0-devnet"},o=(0,r.createContext)(null);function l({children:e}){let[t,s]=(0,r.useState)(null),[l,c]=(0,r.useState)(null),[d,u]=(0,r.useState)(!1),[h,m]=(0,r.useState)(null),[x,f]=(0,r.useState)([]),[y,p]=(0,r.useState)([]),b=(0,r.useCallback)(()=>{t&&f(t.getMyAttestations())},[t]),g=(0,r.useCallback)(()=>{t&&p(t.listCredentials())},[t]),w=(0,r.useCallback)(async()=>{u(!0),m(null);try{if(i.useMock){let e="0x2f5e9c1a4b8d7f3e6a2c5b8d1f4e7a3c9b6e2d5f8a1c4b7e3d6a9f2c5b8e1d4";await new Promise(e=>setTimeout(e,800));let t=new n.zW(e);s(t),c(e)}else throw Error(`Real SDK not yet activated.

Prerequisites:
  1. Docker accessible (docker ps)
  2. Run: scripts/activate-real-sdk.sh

PXE target: ${i.pxeUrl}
Contract: ${i.contractAddress}`)}catch(e){m(e instanceof Error?e.message:"Connection failed")}finally{u(!1)}},[]),v=(0,r.useCallback)(()=>{s(null),c(null),f([]),p([]),m(null)},[]),k=l?`${l.slice(0,8)}...${l.slice(-6)}`:null;return a.jsx(o.Provider,{value:{sdk:t,isConnected:null!==t,displayAddress:k,walletAddress:l,connect:w,disconnect:v,error:h,isConnecting:d,myAttestations:x,refreshAttestations:b,credentialList:y,refreshCredentials:g},children:e})}function c(){let e=(0,r.useContext)(o);if(!e)throw Error("useIsnad must be used within <IsnadProvider>");return e}},9179:(e,t,s)=>{"use strict";s.d(t,{ri:()=>o,zW:()=>l});let a=[{hash:"0x7f3ac4b82d19e8a1f5b6c3d4e9f2a0b7c8d5e6f1a2b3c4d5e6f7a8b9c0d1e2f",score:847n,count:9n,history:[{quality:95,daysAgo:2},{quality:88,daysAgo:3},{quality:92,daysAgo:5},{quality:78,daysAgo:7},{quality:100,daysAgo:9},{quality:85,daysAgo:12},{quality:90,daysAgo:15},{quality:72,daysAgo:18},{quality:47,daysAgo:21}]},{hash:"0x1a2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a0b1c2d3e4f5a6b7c8d9e0f1a2",score:312n,count:4n,history:[{quality:88,daysAgo:1},{quality:75,daysAgo:4},{quality:82,daysAgo:6},{quality:67,daysAgo:10}]},{hash:"0xdeadbeefcafebabe0102030405060708090a0b0c0d0e0f101112131415161718",score:0n,count:0n,history:[]}];function r(){let e=new Uint8Array(32);return"undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues(e),"0x"+Array.from(e).map(e=>e.toString(16).padStart(2,"0")).join("")}function n(){let e=3e3+2e3*Math.random();return new Promise(t=>setTimeout(t,e))}function i(){return new Promise(e=>setTimeout(e,300+200*Math.random()))}async function o(e){let t=await e.arrayBuffer();return"0x"+Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("")}class l{constructor(e){this.state=function(e){let t=new Map;for(let e of a){let s=Date.now();t.set(e.hash.toLowerCase(),{score:e.score,count:e.count,history:e.history.map(({quality:e,daysAgo:t})=>({quality:e,ts:new Date(s-864e5*t)}))})}return{trustScores:t,myAttestations:[],credentials:new Map,walletAddress:e}}(e)}get walletAddress(){return this.state.walletAddress}async getTrustScore(e){await i();let t=e.toLowerCase(),s=this.state.trustScores.get(t);return{skillHash:e,trustScore:s?.score??0n,attestationCount:s?.count??0n}}async getAttestationHistory(e){await i();let t=e.toLowerCase(),s=this.state.trustScores.get(t);return s?.history??[]}async attest(e,t){let s=e.skillHash.toLowerCase();if(this.state.myAttestations.some(e=>e.skillHash.toLowerCase()===s&&!e.revoked))throw Error("You have already attested this skill (SingleUseClaim prevents double-attestation).");t?.("proving"),await n(),t?.("submitting"),await new Promise(e=>setTimeout(e,500));let a=r(),i=new Date,o=this.state.trustScores.get(s)??{score:0n,count:0n,history:[]};return this.state.trustScores.set(s,{score:o.score+BigInt(e.quality),count:o.count+1n,history:[{quality:e.quality,ts:i},...o.history]}),this.state.myAttestations.unshift({skillHash:e.skillHash,quality:e.quality,timestamp:i,txHash:a,revoked:!1}),{txHash:a}}async revokeAttestation(e,t){let s=e.toLowerCase(),a=this.state.myAttestations.find(e=>e.skillHash.toLowerCase()===s&&!e.revoked);if(!a)throw Error("No active attestation found for this skill.");t?.("proving"),await n(),t?.("submitting"),await new Promise(e=>setTimeout(e,500));let i=r(),o=this.state.trustScores.get(s);return o&&this.state.trustScores.set(s,{score:o.score>=BigInt(a.quality)?o.score-BigInt(a.quality):0n,count:o.count>0n?o.count-1n:0n,history:o.history.filter(e=>e.ts!==a.timestamp)}),a.revoked=!0,{txHash:i}}getMyAttestations(){return[...this.state.myAttestations]}async storeCredential(e,t){if(this.state.credentials.has(e.keyId))throw Error(`Credential '${e.keyId}' already exists. Use rotateCredential() to replace.`);return t?.("proving"),await n(),t?.("submitting"),await new Promise(e=>setTimeout(e,500)),this.state.credentials.set(e.keyId,{label:e.label,value:e.value}),{txHash:r()}}async getCredential(e){await i();let t=this.state.credentials.get(e);return t?{keyId:e,value:t.value,label:t.label}:null}async deleteCredential(e,t){if(!this.state.credentials.has(e))throw Error(`No credential found with keyId '${e}'.`);return t?.("proving"),await n(),t?.("submitting"),await new Promise(e=>setTimeout(e,500)),this.state.credentials.delete(e),{txHash:r()}}async rotateCredential(e,t){if(!this.state.credentials.has(e.keyId))throw Error(`No credential found with keyId '${e.keyId}'.`);return t?.("proving"),await n(),t?.("submitting"),await new Promise(e=>setTimeout(e,500)),this.state.credentials.set(e.keyId,{label:e.newLabel,value:e.newValue}),{txHash:r()}}listCredentials(){return Array.from(this.state.credentials.entries()).map(([e,{label:t}])=>({keyId:e,label:t}))}async grantCredentialAccess(e){return await i(),{authwitNonce:e.nonce??BigInt(Date.now())}}}},8463:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f,metadata:()=>x});var a=s(9510);s(7272);var r=s(8570);let n=(0,r.createProxy)(String.raw`/home/ec2-user/aztec-agent/project/frontend/lib/isnad-context.tsx`),{__esModule:i,$$typeof:o}=n;n.default;let l=(0,r.createProxy)(String.raw`/home/ec2-user/aztec-agent/project/frontend/lib/isnad-context.tsx#IsnadProvider`);(0,r.createProxy)(String.raw`/home/ec2-user/aztec-agent/project/frontend/lib/isnad-context.tsx#useIsnad`);let c=(0,r.createProxy)(String.raw`/home/ec2-user/aztec-agent/project/frontend/components/Nav.tsx`),{__esModule:d,$$typeof:u}=c;c.default;let h=(0,r.createProxy)(String.raw`/home/ec2-user/aztec-agent/project/frontend/components/Nav.tsx#default`),m={useMock:"false"!==process.env.NEXT_PUBLIC_USE_MOCK,pxeUrl:process.env.NEXT_PUBLIC_PXE_URL??"http://localhost:8080",contractAddress:process.env.NEXT_PUBLIC_CONTRACT_ADDRESS??"0x0000000000000000000000000000000000000000000000000000000000000000",appName:"The Isnad Chain",appDescription:"ZK Skill Attestation & Credential Registry for AI Agents",version:"0.1.0-devnet"},x={title:{default:m.appName,template:`%s — ${m.appName}`},description:m.appDescription};function f({children:e}){return a.jsx("html",{lang:"en",className:"bg-void text-ink",children:a.jsx("body",{className:"min-h-screen flex flex-col",children:(0,a.jsxs)(l,{children:[a.jsx(h,{}),a.jsx("main",{className:"flex-1 max-w-5xl w-full mx-auto px-4 py-8",children:e}),a.jsx("footer",{className:"border-t border-wire mt-auto",children:(0,a.jsxs)("div",{className:"max-w-5xl mx-auto px-4 py-4 flex items-center justify-between",children:[a.jsx("span",{className:"font-mono text-xs text-ink-faint",children:"The Isnad Chain — private by default. verifiable by proof. owned by no one."}),(0,a.jsxs)("span",{className:"font-mono text-xs text-ink-faint",children:[m.version," \xb7 Aztec devnet"]})]})})]})})})}},7272:()=>{}};