(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3669:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>d}),s(908),s(8463),s(5866);var a=s(3191),n=s(8716),r=s(7922),o=s.n(r),i=s(5231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(t,l);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,908)),"/home/ec2-user/aztec-agent/project/frontend/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,8463)),"/home/ec2-user/aztec-agent/project/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/home/ec2-user/aztec-agent/project/frontend/app/page.tsx"],x="/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5036:(e,t,s)=>{Promise.resolve().then(s.bind(s,5738))},5738:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var a=s(326),n=s(7577);let r={none:{label:"No attestations",color:"text-ink-muted",barColor:"bg-wire-200",badge:"bg-wire-200 text-ink-muted"},low:{label:"Low trust",color:"text-signal-danger",barColor:"bg-signal-danger",badge:"bg-signal-danger/10 text-signal-danger border border-signal-danger/30"},moderate:{label:"Moderate trust",color:"text-signal-caution",barColor:"bg-signal-caution",badge:"bg-signal-caution/10 text-signal-caution border border-signal-caution/30"},trusted:{label:"Trusted",color:"text-signal-trusted",barColor:"bg-signal-trusted",badge:"bg-signal-trusted/10 text-signal-trusted border border-signal-trusted/30"}};function o({info:e,showBar:t=!0,size:s="md"}){var n;let o=r[n=e.trustScore,0n===e.attestationCount?"none":n<300n?"low":n<700n?"moderate":"trusted"],i=Math.min(100,Number(e.trustScore)/1e3*100);return(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-end gap-3",children:[a.jsx("span",{className:`font-mono font-bold ${{sm:"text-xl",md:"text-3xl",lg:"text-5xl"}[s]} ${o.color} tabular-nums`,children:e.trustScore.toString()}),(0,a.jsxs)("div",{className:"mb-1 flex flex-col gap-0.5",children:[a.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-mono font-medium ${o.badge}`,children:o.label}),(0,a.jsxs)("span",{className:`font-mono ${{sm:"text-xs",md:"text-sm",lg:"text-base"}[s]} text-ink-muted`,children:[e.attestationCount.toString()," ",1n===e.attestationCount?"auditor":"auditors"]})]})]}),t&&a.jsx("div",{className:"relative h-1.5 bg-wire rounded-full overflow-hidden",children:a.jsx("div",{className:`absolute inset-y-0 left-0 rounded-full transition-all duration-700 ${o.barColor}`,style:{width:`${i}%`}})})]})}function i({quality:e,ts:t}){let s=Math.floor((Date.now()-t.getTime())/864e5),n=0===s?"today":1===s?"1 day ago":`${s} days ago`,r=`${e}%`,o=e>=80?"bg-signal-trusted":e>=50?"bg-signal-caution":"bg-signal-danger";return(0,a.jsxs)("div",{className:"flex items-center gap-3 py-2 border-b border-wire/50 last:border-0",children:[(0,a.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[a.jsx("div",{className:"relative flex-1 h-1 bg-wire rounded-full overflow-hidden",children:a.jsx("div",{className:`absolute inset-y-0 left-0 rounded-full ${o}`,style:{width:r}})}),a.jsx("span",{className:"font-mono text-xs text-ink-muted tabular-nums w-8 text-right",children:e})]}),a.jsx("span",{className:"font-mono text-xs text-ink-faint shrink-0 w-20 text-right",children:n})]})}var l=s(9179),d=s(434);let c=new l.zW("0x000000000000000000000000000000000000000000000000000000000000public"),x=[{label:"weather-reporter-v2",hash:"0x7f3ac4b82d19e8a1f5b6c3d4e9f2a0b7c8d5e6f1a2b3c4d5e6f7a8b9c0d1e2f",trusted:!0},{label:"code-formatter-v1",hash:"0x1a2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a0b1c2d3e4f5a6b7c8d9e0f1a2",trusted:!0},{label:"get-weather (MALICIOUS — see P0 Labs report)",hash:"0xdeadbeefcafebabe0102030405060708090a0b0c0d0e0f101112131415161718",trusted:!1}];function u(){let[e,t]=(0,n.useState)(""),[s,r]=(0,n.useState)(null),[u,m]=(0,n.useState)(null),[p,h]=(0,n.useState)([]),[g,f]=(0,n.useState)(!1),[b,v]=(0,n.useState)(null),[j,y]=(0,n.useState)(!1),N=(0,n.useCallback)(async e=>{let t=e.trim();if(t){f(!0),v(null),m(null),h([]),r(t);try{let[e,s]=await Promise.all([c.getTrustScore(t),c.getAttestationHistory(t)]);m(e),h(s)}catch(e){v(e instanceof Error?e.message:"Query failed")}finally{f(!1)}}},[]),k=(0,n.useCallback)(()=>{N(e)},[e,N]),w=(0,n.useCallback)(e=>{"Enter"===e.key&&k()},[k]),C=(0,n.useCallback)(async e=>{f(!0),v(null);try{let s=await (0,l.ri)(e);t(s),await N(s)}catch(e){v("Failed to compute skill hash from file.")}finally{f(!1)}},[N]),S=(0,n.useCallback)(e=>{e.preventDefault(),y(!1);let t=e.dataTransfer.files[0];t&&C(t)},[C]);return(0,a.jsxs)("div",{className:"space-y-10",children:[(0,a.jsxs)("div",{className:"space-y-3 pt-4",children:[(0,a.jsxs)("h1",{className:"font-mono text-2xl text-ink",children:[a.jsx("span",{className:"text-amber",children:"⬡"})," Skill Trust Browser"]}),a.jsx("p",{className:"font-mono text-sm text-ink-muted max-w-2xl leading-relaxed",children:"Before installing a skill, verify its trust score. Auditors submit anonymous ZK attestations — their identities are never recorded on-chain. Only the aggregate trust signal is public."})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:e,onChange:e=>t(e.target.value),onKeyDown:w,placeholder:"0x7f3a... (SHA256 of skill file content)",className:" flex-1 bg-void-100 border border-wire rounded px-3 py-2.5 font-mono text-sm text-ink placeholder-ink-faint focus:border-amber transition-colors "}),a.jsx("button",{onClick:k,disabled:g||!e.trim(),className:" px-4 py-2.5 rounded border border-wire-50 font-mono text-sm text-ink-muted hover:border-amber hover:text-amber transition-colors disabled:opacity-30 disabled:cursor-not-allowed ",children:g?"...":"Search"})]}),(0,a.jsxs)("div",{className:`upload-zone rounded p-4 text-center cursor-pointer ${j?"drag-over":""}`,onDragOver:e=>{e.preventDefault(),y(!0)},onDragLeave:()=>y(!1),onDrop:S,onClick:()=>document.getElementById("file-input")?.click(),children:[a.jsx("input",{id:"file-input",type:"file",className:"hidden",onChange:e=>e.target.files?.[0]&&C(e.target.files[0])}),(0,a.jsxs)("p",{className:"font-mono text-xs text-ink-muted",children:["or"," ",a.jsx("span",{className:"text-ink hover:text-amber transition-colors",children:"drop / click to upload a skill file"})," ","— hash computed locally, nothing sent to any server"]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("p",{className:"font-mono text-xs text-ink-faint",children:"Example skills (demo data):"}),a.jsx("div",{className:"grid gap-2 sm:grid-cols-3",children:x.map(({label:e,hash:s,trusted:n})=>(0,a.jsxs)("button",{onClick:()=>{t(s),N(s)},className:" text-left p-3 rounded border border-wire hover:border-wire-100 transition-colors group ",children:[a.jsx("div",{className:"font-mono text-xs text-ink-muted group-hover:text-ink transition-colors truncate",children:e}),(0,a.jsxs)("div",{className:"font-mono text-xs text-ink-faint truncate mt-0.5",children:[s.slice(0,18),"..."]}),a.jsx("div",{className:`mt-1.5 font-mono text-xs ${n?"text-signal-trusted":"text-signal-danger"}`,children:n?"● trusted":"● not attested"})]},s))})]}),(u||g||b)&&(0,a.jsxs)("div",{className:"border border-wire rounded-lg overflow-hidden",children:[a.jsx("div",{className:"border-b border-wire bg-void-100 px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-mono text-xs text-ink-muted",children:"skill hash"}),a.jsx("span",{className:"font-mono text-xs text-ink break-all",children:s})]})}),g&&(0,a.jsxs)("div",{className:"p-6 flex items-center gap-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-amber animate-pulse"}),a.jsx("span",{className:"font-mono text-sm text-ink-muted",children:"Querying trust score..."})]}),b&&a.jsx("div",{className:"p-6",children:a.jsx("p",{className:"font-mono text-sm text-signal-danger",children:b})}),u&&!g&&(0,a.jsxs)("div",{className:"p-6 space-y-8",children:[a.jsx(o,{info:u,size:"lg"}),p.length>0?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-mono text-xs text-ink-muted uppercase tracking-widest",children:"Attestation History"}),a.jsx("span",{className:"font-mono text-xs text-ink-faint",children:"no auditor identities recorded"})]}),a.jsx("div",{children:p.map((e,t)=>a.jsx(i,{quality:e.quality,ts:e.ts},t))})]}):(0,a.jsxs)("div",{className:"p-4 border border-wire/50 rounded text-center",children:[a.jsx("p",{className:"font-mono text-sm text-ink-muted",children:"No attestations found."}),a.jsx("p",{className:"font-mono text-xs text-ink-faint mt-1",children:"This skill has not been audited. Install at your own risk."})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 pt-2 border-t border-wire",children:[a.jsx(d.default,{href:"/audit",className:"font-mono text-xs text-amber hover:underline",children:"Attest this skill →"}),a.jsx("span",{className:"font-mono text-xs text-ink-faint",children:"Anonymous. ZK proof. ~15-30 seconds."})]})]})]}),!u&&!g&&!b&&(0,a.jsxs)("div",{className:"border border-wire rounded-lg p-6 space-y-4",children:[a.jsx("h2",{className:"font-mono text-sm text-ink",children:"How it works"}),a.jsx("div",{className:"grid gap-6 sm:grid-cols-3",children:[{icon:"⬡",title:"Anonymous attestation",body:"Auditors examine skill files and submit ZK attestations. Their identities never appear in public state — only the trust score increments."},{icon:"⬡",title:"Content-addressed",body:"Trust scores are keyed to the SHA256 of skill file content. If the file changes, the hash changes — prior attestations no longer apply."},{icon:"⬡",title:"Private credential vault",body:"Store API keys and secrets as private notes on Aztec. Grant scoped access to individual skills via AuthWit — never expose your full vault."}].map(({icon:e,title:t,body:s})=>(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-amber font-mono text-lg",children:e}),a.jsx("h3",{className:"font-mono text-sm text-ink",children:t}),a.jsx("p",{className:"font-mono text-xs text-ink-muted leading-relaxed",children:s})]},t))})]})]})}},908:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>o,__esModule:()=>r,default:()=>i});var a=s(8570);let n=(0,a.createProxy)(String.raw`/home/ec2-user/aztec-agent/project/frontend/app/page.tsx`),{__esModule:r,$$typeof:o}=n;n.default;let i=(0,a.createProxy)(String.raw`/home/ec2-user/aztec-agent/project/frontend/app/page.tsx#default`)}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[24,797],()=>s(3669));module.exports=a})();