/**
 * Schema Visitor - Minimal abstraction over raw msgpack schema
 *
 * Philosophy:
 *   - Keep raw schema structure
 *   - Resolve type references into a graph
 *   - No normalization - languages handle their own conventions
 *   - Output is "compiled schema" with resolved types
 */
export type PrimitiveType = 'bool' | 'u8' | 'u16' | 'u32' | 'u64' | 'f64' | 'string' | 'bytes' | 'field2';
export interface Type {
    kind: 'primitive' | 'vector' | 'array' | 'optional' | 'struct';
    primitive?: PrimitiveType;
    element?: Type;
    size?: number;
    struct?: Struct;
}
export interface Field {
    name: string;
    type: Type;
}
export interface Struct {
    name: string;
    fields: Field[];
}
export interface Command {
    name: string;
    fields: Field[];
    responseType: string;
}
export interface CompiledSchema {
    structs: Map<string, Struct>;
    commands: Command[];
    responses: Map<string, Struct>;
}
/**
 * SchemaVisitor - Walks raw msgpack schema and resolves references
 */
export declare class SchemaVisitor {
    private structs;
    private responses;
    visit(commandsSchema: any, responsesSchema: any): CompiledSchema;
    private visitStruct;
    private visitType;
    private resolvePrimitive;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NoZW1hX3Zpc2l0b3IuZC50cyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jYmluZC9zY2hlbWFfdmlzaXRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7R0FRRztBQUVILE1BQU0sTUFBTSxhQUFhLEdBQUcsTUFBTSxHQUFHLElBQUksR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsUUFBUSxHQUFHLE9BQU8sR0FBRyxRQUFRLENBQUM7QUFFMUcsTUFBTSxXQUFXLElBQUk7SUFDbkIsSUFBSSxFQUFFLFdBQVcsR0FBRyxRQUFRLEdBQUcsT0FBTyxHQUFHLFVBQVUsR0FBRyxRQUFRLENBQUM7SUFDL0QsU0FBUyxDQUFDLEVBQUUsYUFBYSxDQUFDO0lBQzFCLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQztJQUNmLElBQUksQ0FBQyxFQUFFLE1BQU0sQ0FBQztJQUNkLE1BQU0sQ0FBQyxFQUFFLE1BQU0sQ0FBQztDQUNqQjtBQUVELE1BQU0sV0FBVyxLQUFLO0lBQ3BCLElBQUksRUFBRSxNQUFNLENBQUM7SUFDYixJQUFJLEVBQUUsSUFBSSxDQUFDO0NBQ1o7QUFFRCxNQUFNLFdBQVcsTUFBTTtJQUNyQixJQUFJLEVBQUUsTUFBTSxDQUFDO0lBQ2IsTUFBTSxFQUFFLEtBQUssRUFBRSxDQUFDO0NBQ2pCO0FBRUQsTUFBTSxXQUFXLE9BQU87SUFDdEIsSUFBSSxFQUFFLE1BQU0sQ0FBQztJQUNiLE1BQU0sRUFBRSxLQUFLLEVBQUUsQ0FBQztJQUNoQixZQUFZLEVBQUUsTUFBTSxDQUFDO0NBQ3RCO0FBRUQsTUFBTSxXQUFXLGNBQWM7SUFFN0IsT0FBTyxFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFHN0IsUUFBUSxFQUFFLE9BQU8sRUFBRSxDQUFDO0lBR3BCLFNBQVMsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0NBQ2hDO0FBRUQ7O0dBRUc7QUFDSCxxQkFBYSxhQUFhO0lBQ3hCLE9BQU8sQ0FBQyxPQUFPLENBQTZCO0lBQzVDLE9BQU8sQ0FBQyxTQUFTLENBQTZCO0lBRTlDLEtBQUssQ0FBQyxjQUFjLEVBQUUsR0FBRyxFQUFFLGVBQWUsRUFBRSxHQUFHLEdBQUcsY0FBYyxDQTJDL0Q7SUFFRCxPQUFPLENBQUMsV0FBVztJQWdCbkIsT0FBTyxDQUFDLFNBQVM7SUE2RWpCLE9BQU8sQ0FBQyxnQkFBZ0I7Q0EwQnpCIn0=