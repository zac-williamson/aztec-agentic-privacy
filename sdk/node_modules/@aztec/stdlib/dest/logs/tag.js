import { poseidon2Hash } from '@aztec/foundation/crypto/poseidon';
import { schemas } from '../schemas/schemas.js';
/**
 * Represents a tag of a private log. This is not the tag that "appears" on the chain as this tag is first siloed
 * with a contract address by kernels before being included in the final log.
 */ export class Tag {
    value;
    constructor(value){
        this.value = value;
    }
    static async compute(preTag) {
        const tag = await poseidon2Hash([
            preTag.secret.value,
            preTag.index
        ]);
        return new Tag(tag);
    }
    toString() {
        return this.value.toString();
    }
    toJSON() {
        return this.value.toString();
    }
    equals(other) {
        return this.value.equals(other.value);
    }
    static get schema() {
        return schemas.Fr.transform((fr)=>new Tag(fr));
    }
}
