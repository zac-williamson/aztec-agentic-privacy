import { computeSiloedPrivateLogFirstField } from '../hash/hash.js';
import { schemas } from '../schemas/schemas.js';
/**
 * Represents a tag used in private log as it "appears on the chain" - that is the tag is siloed with a contract
 * address that emitted the log.
 */ export class SiloedTag {
    value;
    constructor(value){
        this.value = value;
    }
    static async compute(tag, app) {
        const siloedTag = await computeSiloedPrivateLogFirstField(app, tag.value);
        return new SiloedTag(siloedTag);
    }
    toString() {
        return this.value.toString();
    }
    toJSON() {
        return this.value.toString();
    }
    equals(other) {
        return this.value.equals(other.value);
    }
    static get schema() {
        return schemas.Fr.transform((fr)=>new SiloedTag(fr));
    }
}
