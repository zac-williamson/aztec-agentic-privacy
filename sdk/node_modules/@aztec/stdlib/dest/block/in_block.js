import { BlockNumber, BlockNumberSchema } from '@aztec/foundation/branded-types';
import { z } from 'zod';
import { BlockHash } from './block_hash.js';
export function randomInBlock() {
    return {
        l2BlockNumber: BlockNumber(Math.floor(Math.random() * 1000) + 1),
        l2BlockHash: BlockHash.random()
    };
}
export function randomDataInBlock(data) {
    return {
        ...randomInBlock(),
        data
    };
}
export async function wrapDataInBlock(data, block) {
    return {
        data,
        l2BlockNumber: block.number,
        l2BlockHash: await block.hash()
    };
}
export function inBlockSchema() {
    return z.object({
        l2BlockNumber: BlockNumberSchema,
        l2BlockHash: BlockHash.schema
    });
}
export function dataInBlockSchemaFor(schema) {
    return inBlockSchema().extend({
        data: schema
    });
}
