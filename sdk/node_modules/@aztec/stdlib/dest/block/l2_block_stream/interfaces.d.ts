import type { PublishedCheckpoint } from '../../checkpoint/published_checkpoint.js';
import type { L2Block } from '../l2_block.js';
import type { CheckpointId, L2BlockId, L2Tips } from '../l2_block_source.js';
/** Interface to the local view of the chain. Implemented by world-state and l2-tips-store. */
export interface L2BlockStreamLocalDataProvider {
    getL2BlockHash(number: number): Promise<string | undefined>;
    getL2Tips(): Promise<L2Tips>;
}
/** Interface to a handler of events emitted. */
export interface L2BlockStreamEventHandler {
    handleBlockStreamEvent(event: L2BlockStreamEvent): Promise<void>;
}
export type L2BlockStreamEvent = /** Emits blocks added to the chain. */ {
    type: 'blocks-added';
    blocks: L2Block[];
} | /** Emits checkpoints published to L1. */ {
    type: 'chain-checkpointed';
    checkpoint: PublishedCheckpoint;
    block: L2BlockId;
} | /**
 * Reports last correct block (new tip of the proposed chain). Note that this is not necessarily the anchor block
 * that will be used in the transaction - if the chain has already moved past the reorg, we'll also see blocks-added
 * events that will push the anchor block forward.
 */ {
    type: 'chain-pruned';
    block: L2BlockId;
    checkpoint: CheckpointId;
} | /** Reports new proven block. */ {
    type: 'chain-proven';
    block: L2BlockId;
} | /** Reports new finalized block (proven and finalized on L1). */ {
    type: 'chain-finalized';
    block: L2BlockId;
};
export type L2TipsStore = L2BlockStreamEventHandler & L2BlockStreamLocalDataProvider;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50ZXJmYWNlcy5kLnRzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2Jsb2NrL2wyX2Jsb2NrX3N0cmVhbS9pbnRlcmZhY2VzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sMENBQTBDLENBQUM7QUFDcEYsT0FBTyxLQUFLLEVBQUUsT0FBTyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDOUMsT0FBTyxLQUFLLEVBQUUsWUFBWSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUU3RSw4RkFBOEY7QUFDOUYsTUFBTSxXQUFXLDhCQUE4QjtJQUM3QyxjQUFjLENBQUMsTUFBTSxFQUFFLE1BQU0sR0FBRyxPQUFPLENBQUMsTUFBTSxHQUFHLFNBQVMsQ0FBQyxDQUFDO0lBQzVELFNBQVMsSUFBSSxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7Q0FDOUI7QUFFRCxnREFBZ0Q7QUFDaEQsTUFBTSxXQUFXLHlCQUF5QjtJQUN4QyxzQkFBc0IsQ0FBQyxLQUFLLEVBQUUsa0JBQWtCLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2xFO0FBRUQsTUFBTSxNQUFNLGtCQUFrQixHQUMxQix1Q0FBdUMsQ0FBQztJQUN0QyxJQUFJLEVBQUUsY0FBYyxDQUFDO0lBQ3JCLE1BQU0sRUFBRSxPQUFPLEVBQUUsQ0FBQztDQUNuQixHQUNELHlDQUF5QyxDQUFDO0lBQ3hDLElBQUksRUFBRSxvQkFBb0IsQ0FBQztJQUMzQixVQUFVLEVBQUUsbUJBQW1CLENBQUM7SUFDaEMsS0FBSyxFQUFFLFNBQVMsQ0FBQztDQUNsQixHQUNEOzs7O0dBSUMsQ0FBQztJQUNBLElBQUksRUFBRSxjQUFjLENBQUM7SUFDckIsS0FBSyxFQUFFLFNBQVMsQ0FBQztJQUNqQixVQUFVLEVBQUUsWUFBWSxDQUFDO0NBQzFCLEdBQ0QsZ0NBQWdDLENBQUM7SUFDL0IsSUFBSSxFQUFFLGNBQWMsQ0FBQztJQUNyQixLQUFLLEVBQUUsU0FBUyxDQUFDO0NBQ2xCLEdBQ0QsZ0VBQWdFLENBQUM7SUFDL0QsSUFBSSxFQUFFLGlCQUFpQixDQUFDO0lBQ3hCLEtBQUssRUFBRSxTQUFTLENBQUM7Q0FDbEIsQ0FBQztBQUVOLE1BQU0sTUFBTSxXQUFXLEdBQUcseUJBQXlCLEdBQUcsOEJBQThCLENBQUMifQ==