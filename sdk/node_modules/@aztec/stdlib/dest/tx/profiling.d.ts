import { Fr } from '@aztec/foundation/curves/bn254';
import { type ZodFor } from '@aztec/foundation/schemas';
import { z } from 'zod';
import type { AztecNode } from '../interfaces/aztec-node.js';
import { type PrivateExecutionStep } from '../kernel/private_kernel_prover_output.js';
export type RoundTripStats = {
    /** Number of round trips (times we blocked waiting for node responses) */
    roundTrips: number;
    /** Total wall-clock time spent waiting on node (excludes parallel overlap) */
    totalBlockingTime: number;
    /** Individual round trip durations */
    roundTripDurations: number[];
    /** Methods called in each round trip (parallel calls grouped together) */
    roundTripMethods: string[][];
};
export type NodeStats = {
    /** Per-method call stats */
    perMethod: Partial<Record<keyof AztecNode, {
        times: number[];
    }>>;
    /** Round trip stats tracking actual blocking waits */
    roundTrips: RoundTripStats;
};
type FunctionTiming = {
    functionName: string;
    time: number;
    oracles?: Record<string, {
        times: number[];
    }>;
};
export type ProvingTimings = {
    sync?: number;
    proving?: number;
    perFunction: FunctionTiming[];
    unaccounted: number;
    total: number;
};
export declare const ProvingTimingsSchema: z.ZodObject<{
    sync: import("@aztec/foundation/schemas").ZodNullableOptional<z.ZodNumber>;
    proving: import("@aztec/foundation/schemas").ZodNullableOptional<z.ZodNumber>;
    perFunction: z.ZodArray<z.ZodObject<{
        functionName: z.ZodString;
        time: z.ZodNumber;
        oracles: import("@aztec/foundation/schemas").ZodNullableOptional<z.ZodRecord<z.ZodString, z.ZodObject<{
            times: z.ZodArray<z.ZodNumber, "many">;
        }, "strip", z.ZodTypeAny, {
            times: number[];
        }, {
            times: number[];
        }>>>;
    }, "strip", z.ZodTypeAny, {
        functionName: string;
        time: number;
        oracles?: Record<string, {
            times: number[];
        }> | undefined;
    }, {
        functionName: string;
        time: number;
        oracles?: Record<string, {
            times: number[];
        }> | undefined;
    }>, "many">;
    unaccounted: z.ZodNumber;
    total: z.ZodNumber;
}, "strip", z.ZodTypeAny, {
    sync?: number | undefined;
    proving?: number | undefined;
    perFunction: {
        functionName: string;
        time: number;
        oracles?: Record<string, {
            times: number[];
        }> | undefined;
    }[];
    unaccounted: number;
    total: number;
}, {
    sync?: number | undefined;
    proving?: number | undefined;
    perFunction: {
        functionName: string;
        time: number;
        oracles?: Record<string, {
            times: number[];
        }> | undefined;
    }[];
    unaccounted: number;
    total: number;
}>;
export interface ProvingStats {
    timings: ProvingTimings;
    nodeRPCCalls?: NodeStats;
}
export declare const ProvingStatsSchema: z.ZodObject<{
    timings: z.ZodObject<{
        sync: import("@aztec/foundation/schemas").ZodNullableOptional<z.ZodNumber>;
        proving: import("@aztec/foundation/schemas").ZodNullableOptional<z.ZodNumber>;
        perFunction: z.ZodArray<z.ZodObject<{
            functionName: z.ZodString;
            time: z.ZodNumber;
            oracles: import("@aztec/foundation/schemas").ZodNullableOptional<z.ZodRecord<z.ZodString, z.ZodObject<{
                times: z.ZodArray<z.ZodNumber, "many">;
            }, "strip", z.ZodTypeAny, {
                times: number[];
            }, {
                times: number[];
            }>>>;
        }, "strip", z.ZodTypeAny, {
            functionName: string;
            time: number;
            oracles?: Record<string, {
                times: number[];
            }> | undefined;
        }, {
            functionName: string;
            time: number;
            oracles?: Record<string, {
                times: number[];
            }> | undefined;
        }>, "many">;
        unaccounted: z.ZodNumber;
        total: z.ZodNumber;
    }, "strip", z.ZodTypeAny, {
        sync?: number | undefined;
        proving?: number | undefined;
        perFunction: {
            functionName: string;
            time: number;
            oracles?: Record<string, {
                times: number[];
            }> | undefined;
        }[];
        unaccounted: number;
        total: number;
    }, {
        sync?: number | undefined;
        proving?: number | undefined;
        perFunction: {
            functionName: string;
            time: number;
            oracles?: Record<string, {
                times: number[];
            }> | undefined;
        }[];
        unaccounted: number;
        total: number;
    }>;
    nodeRPCCalls: import("@aztec/foundation/schemas").ZodNullableOptional<z.ZodObject<{
        perMethod: z.ZodRecord<z.ZodString, z.ZodObject<{
            times: z.ZodArray<z.ZodNumber, "many">;
        }, "strip", z.ZodTypeAny, {
            times: number[];
        }, {
            times: number[];
        }>>;
        roundTrips: z.ZodObject<{
            roundTrips: z.ZodNumber;
            totalBlockingTime: z.ZodNumber;
            roundTripDurations: z.ZodArray<z.ZodNumber, "many">;
            roundTripMethods: z.ZodArray<z.ZodArray<z.ZodString, "many">, "many">;
        }, "strip", z.ZodTypeAny, {
            roundTrips: number;
            totalBlockingTime: number;
            roundTripDurations: number[];
            roundTripMethods: string[][];
        }, {
            roundTrips: number;
            totalBlockingTime: number;
            roundTripDurations: number[];
            roundTripMethods: string[][];
        }>;
    }, "strip", z.ZodTypeAny, {
        perMethod: Record<string, {
            times: number[];
        }>;
        roundTrips: {
            roundTrips: number;
            totalBlockingTime: number;
            roundTripDurations: number[];
            roundTripMethods: string[][];
        };
    }, {
        perMethod: Record<string, {
            times: number[];
        }>;
        roundTrips: {
            roundTrips: number;
            totalBlockingTime: number;
            roundTripDurations: number[];
            roundTripMethods: string[][];
        };
    }>>;
}, "strip", z.ZodTypeAny, {
    timings: {
        sync?: number | undefined;
        proving?: number | undefined;
        perFunction: {
            functionName: string;
            time: number;
            oracles?: Record<string, {
                times: number[];
            }> | undefined;
        }[];
        unaccounted: number;
        total: number;
    };
    nodeRPCCalls?: {
        perMethod: Record<string, {
            times: number[];
        }>;
        roundTrips: {
            roundTrips: number;
            totalBlockingTime: number;
            roundTripDurations: number[];
            roundTripMethods: string[][];
        };
    } | undefined;
}, {
    timings: {
        sync?: number | undefined;
        proving?: number | undefined;
        perFunction: {
            functionName: string;
            time: number;
            oracles?: Record<string, {
                times: number[];
            }> | undefined;
        }[];
        unaccounted: number;
        total: number;
    };
    nodeRPCCalls?: {
        perMethod: Record<string, {
            times: number[];
        }>;
        roundTrips: {
            roundTrips: number;
            totalBlockingTime: number;
            roundTripDurations: number[];
            roundTripMethods: string[][];
        };
    } | undefined;
}>;
export interface SimulationTimings {
    sync: number;
    publicSimulation?: number;
    validation?: number;
    perFunction: FunctionTiming[];
    unaccounted: number;
    total: number;
}
export declare const SimulationTimingsSchema: z.ZodObject<{
    sync: z.ZodNumber;
    publicSimulation: import("@aztec/foundation/schemas").ZodNullableOptional<z.ZodNumber>;
    validation: import("@aztec/foundation/schemas").ZodNullableOptional<z.ZodNumber>;
    perFunction: z.ZodArray<z.ZodObject<{
        functionName: z.ZodString;
        time: z.ZodNumber;
        oracles: import("@aztec/foundation/schemas").ZodNullableOptional<z.ZodRecord<z.ZodString, z.ZodObject<{
            times: z.ZodArray<z.ZodNumber, "many">;
        }, "strip", z.ZodTypeAny, {
            times: number[];
        }, {
            times: number[];
        }>>>;
    }, "strip", z.ZodTypeAny, {
        functionName: string;
        time: number;
        oracles?: Record<string, {
            times: number[];
        }> | undefined;
    }, {
        functionName: string;
        time: number;
        oracles?: Record<string, {
            times: number[];
        }> | undefined;
    }>, "many">;
    unaccounted: z.ZodNumber;
    total: z.ZodNumber;
}, "strip", z.ZodTypeAny, {
    sync: number;
    publicSimulation?: number | undefined;
    validation?: number | undefined;
    perFunction: {
        functionName: string;
        time: number;
        oracles?: Record<string, {
            times: number[];
        }> | undefined;
    }[];
    unaccounted: number;
    total: number;
}, {
    sync: number;
    publicSimulation?: number | undefined;
    validation?: number | undefined;
    perFunction: {
        functionName: string;
        time: number;
        oracles?: Record<string, {
            times: number[];
        }> | undefined;
    }[];
    unaccounted: number;
    total: number;
}>;
export interface SimulationStats {
    timings: SimulationTimings;
    nodeRPCCalls: NodeStats;
}
export declare const SimulationStatsSchema: z.ZodObject<{
    timings: z.ZodObject<{
        sync: z.ZodNumber;
        publicSimulation: import("@aztec/foundation/schemas").ZodNullableOptional<z.ZodNumber>;
        validation: import("@aztec/foundation/schemas").ZodNullableOptional<z.ZodNumber>;
        perFunction: z.ZodArray<z.ZodObject<{
            functionName: z.ZodString;
            time: z.ZodNumber;
            oracles: import("@aztec/foundation/schemas").ZodNullableOptional<z.ZodRecord<z.ZodString, z.ZodObject<{
                times: z.ZodArray<z.ZodNumber, "many">;
            }, "strip", z.ZodTypeAny, {
                times: number[];
            }, {
                times: number[];
            }>>>;
        }, "strip", z.ZodTypeAny, {
            functionName: string;
            time: number;
            oracles?: Record<string, {
                times: number[];
            }> | undefined;
        }, {
            functionName: string;
            time: number;
            oracles?: Record<string, {
                times: number[];
            }> | undefined;
        }>, "many">;
        unaccounted: z.ZodNumber;
        total: z.ZodNumber;
    }, "strip", z.ZodTypeAny, {
        sync: number;
        publicSimulation?: number | undefined;
        validation?: number | undefined;
        perFunction: {
            functionName: string;
            time: number;
            oracles?: Record<string, {
                times: number[];
            }> | undefined;
        }[];
        unaccounted: number;
        total: number;
    }, {
        sync: number;
        publicSimulation?: number | undefined;
        validation?: number | undefined;
        perFunction: {
            functionName: string;
            time: number;
            oracles?: Record<string, {
                times: number[];
            }> | undefined;
        }[];
        unaccounted: number;
        total: number;
    }>;
    nodeRPCCalls: z.ZodObject<{
        perMethod: z.ZodRecord<z.ZodString, z.ZodObject<{
            times: z.ZodArray<z.ZodNumber, "many">;
        }, "strip", z.ZodTypeAny, {
            times: number[];
        }, {
            times: number[];
        }>>;
        roundTrips: z.ZodObject<{
            roundTrips: z.ZodNumber;
            totalBlockingTime: z.ZodNumber;
            roundTripDurations: z.ZodArray<z.ZodNumber, "many">;
            roundTripMethods: z.ZodArray<z.ZodArray<z.ZodString, "many">, "many">;
        }, "strip", z.ZodTypeAny, {
            roundTrips: number;
            totalBlockingTime: number;
            roundTripDurations: number[];
            roundTripMethods: string[][];
        }, {
            roundTrips: number;
            totalBlockingTime: number;
            roundTripDurations: number[];
            roundTripMethods: string[][];
        }>;
    }, "strip", z.ZodTypeAny, {
        perMethod: Record<string, {
            times: number[];
        }>;
        roundTrips: {
            roundTrips: number;
            totalBlockingTime: number;
            roundTripDurations: number[];
            roundTripMethods: string[][];
        };
    }, {
        perMethod: Record<string, {
            times: number[];
        }>;
        roundTrips: {
            roundTrips: number;
            totalBlockingTime: number;
            roundTripDurations: number[];
            roundTripMethods: string[][];
        };
    }>;
}, "strip", z.ZodTypeAny, {
    timings: {
        sync: number;
        publicSimulation?: number | undefined;
        validation?: number | undefined;
        perFunction: {
            functionName: string;
            time: number;
            oracles?: Record<string, {
                times: number[];
            }> | undefined;
        }[];
        unaccounted: number;
        total: number;
    };
    nodeRPCCalls: {
        perMethod: Record<string, {
            times: number[];
        }>;
        roundTrips: {
            roundTrips: number;
            totalBlockingTime: number;
            roundTripDurations: number[];
            roundTripMethods: string[][];
        };
    };
}, {
    timings: {
        sync: number;
        publicSimulation?: number | undefined;
        validation?: number | undefined;
        perFunction: {
            functionName: string;
            time: number;
            oracles?: Record<string, {
                times: number[];
            }> | undefined;
        }[];
        unaccounted: number;
        total: number;
    };
    nodeRPCCalls: {
        perMethod: Record<string, {
            times: number[];
        }>;
        roundTrips: {
            roundTrips: number;
            totalBlockingTime: number;
            roundTripDurations: number[];
            roundTripMethods: string[][];
        };
    };
}>;
export declare class TxProfileResult {
    executionSteps: PrivateExecutionStep[];
    stats: ProvingStats;
    constructor(executionSteps: PrivateExecutionStep[], stats: ProvingStats);
    static get schema(): ZodFor<TxProfileResult>;
    static random(): TxProfileResult;
}
export declare class UtilitySimulationResult {
    result: Fr[];
    stats?: SimulationStats | undefined;
    constructor(result: Fr[], stats?: SimulationStats | undefined);
    static get schema(): ZodFor<UtilitySimulationResult>;
    static random(): UtilitySimulationResult;
}
export {};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvZmlsaW5nLmQudHMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvdHgvcHJvZmlsaW5nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxFQUFFLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUNwRCxPQUFPLEVBQUUsS0FBSyxNQUFNLEVBQXFCLE1BQU0sMkJBQTJCLENBQUM7QUFFM0UsT0FBTyxFQUFFLENBQUMsRUFBRSxNQUFNLEtBQUssQ0FBQztBQUV4QixPQUFPLEtBQUssRUFBRSxTQUFTLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUM3RCxPQUFPLEVBQUUsS0FBSyxvQkFBb0IsRUFBOEIsTUFBTSwyQ0FBMkMsQ0FBQztBQUVsSCxNQUFNLE1BQU0sY0FBYyxHQUFHO0lBQzNCLDBFQUEwRTtJQUMxRSxVQUFVLEVBQUUsTUFBTSxDQUFDO0lBQ25CLDhFQUE4RTtJQUM5RSxpQkFBaUIsRUFBRSxNQUFNLENBQUM7SUFDMUIsc0NBQXNDO0lBQ3RDLGtCQUFrQixFQUFFLE1BQU0sRUFBRSxDQUFDO0lBQzdCLDBFQUEwRTtJQUMxRSxnQkFBZ0IsRUFBRSxNQUFNLEVBQUUsRUFBRSxDQUFDO0NBQzlCLENBQUM7QUFTRixNQUFNLE1BQU0sU0FBUyxHQUFHO0lBQ3RCLDRCQUE0QjtJQUM1QixTQUFTLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLFNBQVMsRUFBRTtRQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsQ0FBQTtLQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2pFLHNEQUFzRDtJQUN0RCxVQUFVLEVBQUUsY0FBYyxDQUFDO0NBQzVCLENBQUM7QUFPRixLQUFLLGNBQWMsR0FBRztJQUNwQixZQUFZLEVBQUUsTUFBTSxDQUFDO0lBQ3JCLElBQUksRUFBRSxNQUFNLENBQUM7SUFDYixPQUFPLENBQUMsRUFBRSxNQUFNLENBQUMsTUFBTSxFQUFFO1FBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxDQUFBO0tBQUUsQ0FB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