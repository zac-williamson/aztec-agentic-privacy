import { type Logger } from '@aztec/foundation/log';
import type { FileStore, FileStoreSaveOptions } from './interface.js';
export declare class S3FileStore implements FileStore {
    private readonly bucketName;
    private readonly basePath;
    private readonly log;
    private readonly s3;
    private readonly region;
    private readonly endpoint?;
    private readonly publicBaseUrl?;
    constructor(bucketName: string, basePath: string, opts: {
        endpoint?: string;
        publicBaseUrl?: string;
    }, log?: Logger);
    save(path: string, data: Buffer, opts?: FileStoreSaveOptions): Promise<string>;
    upload(destPath: string, srcPath: string, opts?: FileStoreSaveOptions): Promise<string>;
    read(pathOrUrlStr: string): Promise<Buffer>;
    download(pathOrUrlStr: string, destPath: string): Promise<void>;
    exists(pathOrUrlStr: string): Promise<boolean>;
    private extractUserMetadata;
    private detectContentType;
    private buildReturnedUrl;
    private getBucketAndKey;
    private getFullPath;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiczMuZC50cyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9maWxlLXN0b3JlL3MzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxLQUFLLE1BQU0sRUFBZ0IsTUFBTSx1QkFBdUIsQ0FBQztBQWtCbEUsT0FBTyxLQUFLLEVBQUUsU0FBUyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFTdEUscUJBQWEsV0FBWSxZQUFXLFNBQVM7SUFPekMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxVQUFVO0lBQzNCLE9BQU8sQ0FBQyxRQUFRLENBQUMsUUFBUTtJQUV6QixPQUFPLENBQUMsUUFBUSxDQUFDLEdBQUc7SUFUdEIsT0FBTyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQVc7SUFDOUIsT0FBTyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQVM7SUFDaEMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBUztJQUNuQyxPQUFPLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFTO0lBRXhDLFlBQ21CLFVBQVUsRUFBRSxNQUFNLEVBQ2xCLFFBQVEsRUFBRSxNQUFNLEVBQ2pDLElBQUksRUFBRTtRQUFFLFFBQVEsQ0FBQyxFQUFFLE1BQU0sQ0FBQztRQUFDLGFBQWEsQ0FBQyxFQUFFLE1BQU0sQ0FBQTtLQUFFLEVBQ2xDLEdBQUcsR0FBRSxNQUE2QyxFQWVwRTtJQUVZLElBQUksQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSSxHQUFFLG9CQUF5QixHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FtQjlGO0lBRVksTUFBTSxDQUFDLFFBQVEsRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxJQUFJLEdBQUUsb0JBQXlCLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQXdEdkc7SUFFWSxJQUFJLENBQUMsWUFBWSxFQUFFLE1BQU0sR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBYXZEO0lBRVksUUFBUSxDQUFDLFlBQVksRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLE1BQU0sR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLENBSzNFO0lBRVksTUFBTSxDQUFDLFlBQVksRUFBRSxNQUFNLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQWExRDtJQUVELE9BQU8sQ0FBQyxtQkFBbUI7SUFRM0IsT0FBTyxDQUFDLGlCQUFpQjtJQXNCekIsT0FBTyxDQUFDLGdCQUFnQjtJQTBCeEIsT0FBTyxDQUFDLGVBQWU7SUEyQnZCLE9BQU8sQ0FBQyxXQUFXO0NBS3BCIn0=