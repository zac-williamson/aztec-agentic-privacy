import type { SlotNumber } from '@aztec/foundation/branded-types';
import { CheckpointAttestation } from '../p2p/checkpoint_attestation.js';
import type { P2PClientType } from '../p2p/client_type.js';
import { type ApiSchemaFor } from '../schemas/index.js';
import { Tx } from '../tx/tx.js';
import { TxHash } from '../tx/tx_hash.js';
export type PeerInfo = {
    status: 'connected';
    score: number;
    id: string;
} | {
    status: 'dialing';
    dialStatus: string;
    id: string;
    addresses: string[];
} | {
    status: 'cached';
    id: string;
    addresses: string[];
    enr: string;
    dialAttempts: number;
};
/** Exposed API to the P2P module. */
export interface P2PApiWithoutAttestations {
    /**
     * Returns all pending transactions in the transaction pool.
     * @param limit - The number of items to returns
     * @param after - The last known pending tx. Used for pagination
     * @returns An array of Txs.
     */
    getPendingTxs(limit?: number, after?: TxHash): Promise<Tx[]>;
    /** Returns the number of pending txs in the p2p tx pool. */
    getPendingTxCount(): Promise<number>;
    /**
     * Returns the ENR for this node, if any.
     */
    getEncodedEnr(): Promise<string | undefined>;
    /**
     * Returns info for all connected, dialing, and cached peers.
     */
    getPeers(includePending?: boolean): Promise<PeerInfo[]>;
}
export interface P2PApiWithAttestations extends P2PApiWithoutAttestations {
    /**
     * Queries the Attestation pool for checkpoint attestations for the given slot
     *
     * @param slot - the slot to query
     * @param proposalId - the proposal id to query, or undefined to query all proposals for the slot
     * @returns CheckpointAttestations
     */
    getCheckpointAttestationsForSlot(slot: SlotNumber, proposalId?: string): Promise<CheckpointAttestation[]>;
}
export interface P2PClient extends P2PApiWithAttestations {
    /** Manually adds checkpoint attestations to the p2p client attestation pool. */
    addOwnCheckpointAttestations(attestations: CheckpointAttestation[]): Promise<void>;
}
export type P2PApi<T extends P2PClientType = P2PClientType.Full> = T extends P2PClientType.Full ? P2PApiWithAttestations : P2PApiWithoutAttestations;
export type P2PApiFull<T extends P2PClientType = P2PClientType.Full> = T extends P2PClientType.Full ? P2PApiWithAttestations & P2PClient : P2PApiWithoutAttestations;
export declare const P2PApiSchema: ApiSchemaFor<P2PApi>;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicDJwLmQudHMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW50ZXJmYWNlcy9wMnAudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLEVBQUUsVUFBVSxFQUFFLE1BQU0saUNBQWlDLENBQUM7QUFJbEUsT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0sa0NBQWtDLENBQUM7QUFDekUsT0FBTyxLQUFLLEVBQUUsYUFBYSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDM0QsT0FBTyxFQUFFLEtBQUssWUFBWSxFQUFxQixNQUFNLHFCQUFxQixDQUFDO0FBQzNFLE9BQU8sRUFBRSxFQUFFLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDakMsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBRzFDLE1BQU0sTUFBTSxRQUFRLEdBQ2hCO0lBQUUsTUFBTSxFQUFFLFdBQVcsQ0FBQztJQUFDLEtBQUssRUFBRSxNQUFNLENBQUM7SUFBQyxFQUFFLEVBQUUsTUFBTSxDQUFBO0NBQUUsR0FDbEQ7SUFBRSxNQUFNLEVBQUUsU0FBUyxDQUFDO0lBQUMsVUFBVSxFQUFFLE1BQU0sQ0FBQztJQUFDLEVBQUUsRUFBRSxNQUFNLENBQUM7SUFBQyxTQUFTLEVBQUUsTUFBTSxFQUFFLENBQUE7Q0FBRSxHQUMxRTtJQUFFLE1BQU0sRUFBRSxRQUFRLENBQUM7SUFBQyxFQUFFLEVBQUUsTUFBTSxDQUFDO0lBQUMsU0FBUyxFQUFFLE1BQU0sRUFBRSxDQUFDO0lBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQztJQUFDLFlBQVksRUFBRSxNQUFNLENBQUE7Q0FBRSxDQUFDO0FBYzdGLHFDQUFxQztBQUNyQyxNQUFNLFdBQVcseUJBQXlCO0lBQ3hDOzs7OztPQUtHO0lBQ0gsYUFBYSxDQUFDLEtBQUssQ0FBQyxFQUFFLE1BQU0sRUFBRSxLQUFLLENBQUMsRUFBRSxNQUFNLEdBQUcsT0FBTyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFFN0QsNERBQTREO0lBQzVELGlCQUFpQixJQUFJLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUVyQzs7T0FFRztJQUNILGFBQWEsSUFBSSxPQUFPLENBQUMsTUFBTSxHQUFHLFNBQVMsQ0FBQyxDQUFDO0lBRTdDOztPQUVHO0lBQ0gsUUFBUSxDQUFDLGNBQWMsQ0FBQyxFQUFFLE9BQU8sR0FBRyxPQUFPLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztDQUN6RDtBQUVELE1BQU0sV0FBVyxzQkFBdUIsU0FBUSx5QkFBeUI7SUFDdkU7Ozs7OztPQU1HO0lBQ0gsZ0NBQWdDLENBQUMsSUFBSSxFQUFFLFVBQVUsRUFBRSxVQUFVLENBQUMsRUFBRSxNQUFNLEdBQUcsT0FBTyxDQUFDLHFCQUFxQixFQUFFLENBQUMsQ0FBQztDQUMzRztBQUVELE1BQU0sV0FBVyxTQUFVLFNBQVEsc0JBQXNCO0lBQ3ZELGdGQUFnRjtJQUNoRiw0QkFBNEIsQ0FBQyxZQUFZLEVBQUUscUJBQXFCLEVBQUUsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDcEY7QUFFRCxNQUFNLE1BQU0sTUFBTSxDQUFDLENBQUMsU0FBUyxhQUFhLEdBQUcsYUFBYSxDQUFDLElBQUksSUFBSSxDQUFDLFNBQVMsYUFBYSxDQUFDLElBQUksR0FDM0Ysc0JBQXNCLEdBQ3RCLHlCQUF5QixDQUFDO0FBRTlCLE1BQU0sTUFBTSxVQUFVLENBQUMsQ0FBQyxTQUFTLGFBQWEsR0FBRyxhQUFhLENBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxhQUFhLENBQUMsSUFBSSxHQUMvRixzQkFBc0IsR0FBRyxTQUFTLEdBQ2xDLHlCQUF5QixDQUFDO0FBRTlCLGVBQU8sTUFBTSxZQUFZLEVBQUUsWUFBWSxDQUFDLE1BQU0sQ0FhN0MsQ0FBQyJ9