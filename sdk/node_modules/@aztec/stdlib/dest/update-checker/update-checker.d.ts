import type { ViemClient } from '@aztec/ethereum/types';
import { EthAddress } from '@aztec/foundation/eth-address';
import { EventEmitter } from 'events';
export type EventMap = {
    newRollupVersion: [{
        currentVersion: bigint;
        latestVersion: bigint;
    }];
    newNodeVersion: [{
        currentVersion: string;
        latestVersion: string;
    }];
    updateNodeConfig: [object];
    updatePublicTelemetryConfig: [object];
};
type Config = {
    baseURL: URL;
    nodeVersion?: string;
    checkIntervalMs?: number;
    registryContractAddress: EthAddress;
    publicClient: ViemClient;
    fetch?: typeof fetch;
};
export declare class UpdateChecker extends EventEmitter<EventMap> {
    private updatesUrl;
    private nodeVersion;
    private rollupVersion;
    private fetch;
    private getLatestRollupVersion;
    private checkIntervalMs;
    private log;
    private runningPromise;
    private lastPatchedConfig;
    private lastPatchedPublicTelemetryConfig;
    constructor(updatesUrl: URL, nodeVersion: string | undefined, rollupVersion: bigint, fetch: typeof globalThis.fetch, getLatestRollupVersion: () => Promise<bigint>, checkIntervalMs?: number, log?: import("@aztec/foundation/log").Logger);
    static new(config: Config): Promise<UpdateChecker>;
    start(): void;
    stop(): Promise<void>;
    trigger(): Promise<void>;
    private runChecks;
    private checkRollupVersion;
    private checkConfig;
}
/**
 * Returns package version.
 */
export declare function getPackageVersion(): string | undefined;
export {};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXBkYXRlLWNoZWNrZXIuZC50cyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91cGRhdGUtY2hlY2tlci91cGRhdGUtY2hlY2tlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEtBQUssRUFBRSxVQUFVLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUN4RCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFLM0QsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLFFBQVEsQ0FBQztBQVl0QyxNQUFNLE1BQU0sUUFBUSxHQUFHO0lBQ3JCLGdCQUFnQixFQUFFLENBQUM7UUFBRSxjQUFjLEVBQUUsTUFBTSxDQUFDO1FBQUMsYUFBYSxFQUFFLE1BQU0sQ0FBQTtLQUFFLENBQUMsQ0FBQztJQUN0RSxjQUFjLEVBQUUsQ0FBQztRQUFFLGNBQWMsRUFBRSxNQUFNLENBQUM7UUFBQyxhQUFhLEVBQUUsTUFBTSxDQUFBO0tBQUUsQ0FBQyxDQUFDO0lBQ3BFLGdCQUFnQixFQUFFLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDM0IsMkJBQTJCLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztDQUN2QyxDQUFDO0FBRUYsS0FBSyxNQUFNLEdBQUc7SUFDWixPQUFPLEVBQUUsR0FBRyxDQUFDO0lBQ2IsV0FBVyxDQUFDLEVBQUUsTUFBTSxDQUFDO0lBQ3JCLGVBQWUsQ0FBQyxFQUFFLE1BQU0sQ0FBQztJQUN6Qix1QkFBdUIsRUFBRSxVQUFVLENBQUM7SUFDcEMsWUFBWSxFQUFFLFVBQVUsQ0FBQztJQUN6QixLQUFLLENBQUMsRUFBRSxPQUFPLEtBQUssQ0FBQztDQUN0QixDQUFDO0FBRUYscUJBQWEsYUFBYyxTQUFRLFlBQVksQ0FBQyxRQUFRLENBQUM7SUFNckQsT0FBTyxDQUFDLFVBQVU7SUFDbEIsT0FBTyxDQUFDLFdBQVc7SUFDbkIsT0FBTyxDQUFDLGFBQWE7SUFDckIsT0FBTyxDQUFDLEtBQUs7SUFDYixPQUFPLENBQUMsc0JBQXNCO0lBQzlCLE9BQU8sQ0FBQyxlQUFlO0lBQ3ZCLE9BQU8sQ0FBQyxHQUFHO0lBWGIsT0FBTyxDQUFDLGNBQWMsQ0FBaUI7SUFDdkMsT0FBTyxDQUFDLGlCQUFpQixDQUFjO0lBQ3ZDLE9BQU8sQ0FBQyxnQ0FBZ0MsQ0FBYztJQUV0RCxZQUNVLFVBQVUsRUFBRSxHQUFHLEVBQ2YsV0FBVyxFQUFFLE1BQU0sR0FBRyxTQUFTLEVBQy9CLGFBQWEsRUFBRSxNQUFNLEVBQ3JCLEtBQUssRUFBRSxPQUFPLFVBQVUsQ0FBQyxLQUFLLEVBQzlCLHNCQUFzQixFQUFFLE1BQU0sT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUM3QyxlQUFlLFNBQWMsRUFDN0IsR0FBRyx5Q0FBMEMsRUFJdEQ7SUFFRCxPQUFvQixHQUFHLENBQUMsTUFBTSxFQUFFLE1BQU0sR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBWTlEO0lBRU0sS0FBSyxJQUFJLElBQUksQ0FXbkI7SUFFTSxJQUFJLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxDQU0zQjtJQUVNLE9BQU8sSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLENBRTlCO0lBRUQsT0FBTyxDQUFDLFNBQVMsQ0FFZjtZQUVZLGtCQUFrQjtZQWVsQixXQUFXO0NBc0MxQjtBQUVEOztHQUVHO0FBQ0gsd0JBQWdCLGlCQUFpQixJQUFJLE1BQU0sR0FBRyxTQUFTLENBV3REIn0=