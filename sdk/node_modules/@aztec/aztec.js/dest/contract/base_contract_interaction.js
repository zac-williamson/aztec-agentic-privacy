import { createLogger } from '@aztec/foundation/log';
import { toSendOptions } from './interaction_options.js';
/**
 * Base class for an interaction with a contract, be it a deployment, a function call, or a batch.
 * Implements the sequence create/simulate/send.
 */ export class BaseContractInteraction {
    wallet;
    authWitnesses;
    capsules;
    log;
    constructor(wallet, authWitnesses = [], capsules = []){
        this.wallet = wallet;
        this.authWitnesses = authWitnesses;
        this.capsules = capsules;
        this.log = createLogger('aztecjs:contract_interaction');
    }
    // eslint-disable-next-line jsdoc/require-jsdoc
    async send(options) {
        // docs:end:send
        const executionPayload = await this.request(options);
        const sendOptions = toSendOptions(options);
        return await this.wallet.sendTx(executionPayload, sendOptions);
    }
}
