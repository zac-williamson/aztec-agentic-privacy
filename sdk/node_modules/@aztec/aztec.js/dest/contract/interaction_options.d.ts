import type { FieldsOf } from '@aztec/foundation/types';
import type { AuthWitness } from '@aztec/stdlib/auth-witness';
import type { AztecAddress } from '@aztec/stdlib/aztec-address';
import type { GasSettings } from '@aztec/stdlib/gas';
import type { Capsule, OffchainEffect, SimulationStats, TxHash, TxReceipt } from '@aztec/stdlib/tx';
import type { FeePaymentMethod } from '../fee/fee_payment_method.js';
import type { ProfileOptions, SendOptions, SimulateOptions } from '../wallet/index.js';
import type { WaitOpts } from './wait_opts.js';
/**
 * Options used to tweak the simulation and add gas estimation capabilities
 */
export type FeeEstimationOptions = {
    /** Whether to modify the fee settings of the simulation with high gas limit to figure out actual gas settings. */
    estimateGas?: boolean;
    /** Percentage to pad the estimated gas limits by, if empty, defaults to 0.1. Only relevant if estimateGas is set. */
    estimatedGasPadding?: number;
};
/**
 * Interactions allow configuring a custom fee payment method that gets bundled with the transaction before
 * sending it to the wallet
 */
export type FeePaymentMethodOption = {
    /** Fee payment method to embed in the interaction */
    paymentMethod?: FeePaymentMethod;
};
/**
 * User-defined partial gas settings for the interaction. This type is completely optional since
 * the wallet will fill in the missing options
 */
export type GasSettingsOption = {
    /** The gas settings */
    gasSettings?: Partial<FieldsOf<GasSettings>>;
};
/** Fee options as set by a user. */
export type InteractionFeeOptions = GasSettingsOption & FeePaymentMethodOption;
/**  Fee options that can be set for simulation *only* */
export type SimulationInteractionFeeOptions = InteractionFeeOptions & FeeEstimationOptions;
/**
 * Represents the options to configure a request from a contract interaction.
 * Allows specifying additional auth witnesses and capsules to use during execution
 */
export type RequestInteractionOptions = {
    /** Extra authwits to use during execution */
    authWitnesses?: AuthWitness[];
    /** Extra capsules to use during execution */
    capsules?: Capsule[];
    /** Fee payment method to embed in the interaction request */
    fee?: FeePaymentMethodOption;
};
/**
 * Constant for explicitly not waiting for transaction confirmation.
 * We use this instead of false to avoid confusion with falsy checks.
 */
export declare const NO_WAIT: "NO_WAIT";
/**
 * Type for the NO_WAIT constant.
 */
export type NoWait = typeof NO_WAIT;
/**
 * Type for wait options in interactions.
 * - NO_WAIT symbol: Don't wait for confirmation, return TxHash immediately
 * - WaitOpts object: Wait with custom options and return receipt/result
 * - undefined: Wait with default options and return receipt/result
 */
export type InteractionWaitOptions = NoWait | WaitOpts | undefined;
/**
 * Base options for calling a (constrained) function in a contract, without wait parameter.
 */
export type SendInteractionOptionsWithoutWait = RequestInteractionOptions & {
    /** The sender's Aztec address. */
    from: AztecAddress;
    /** The fee options for the transaction. */
    fee?: InteractionFeeOptions;
};
/**
 * Represents options for calling a (constrained) function in a contract.
 */
export type SendInteractionOptions<W extends InteractionWaitOptions = undefined> = SendInteractionOptionsWithoutWait & {
    /**
     * Whether to wait for the transaction to be mined.
     * - undefined (default): wait with default options and return TxReceipt
     * - WaitOpts object: wait with custom options and return TxReceipt
     * - NO_WAIT: return txHash immediately without waiting
     */
    wait?: W;
};
/**
 * Represents the options for simulating a contract function interaction.
 * Allows specifying the address from which the method should be called.
 * Disregarded for simulation of public functions
 */
export type SimulateInteractionOptions = Omit<SendInteractionOptions, 'fee'> & {
    /** The fee options for the transaction. */
    fee?: SimulationInteractionFeeOptions;
    /** Simulate without checking for the validity of the resulting transaction, e.g. whether it emits any existing nullifiers. */
    skipTxValidation?: boolean;
    /** Whether to ensure the fee payer is not empty and has enough balance to pay for the fee. */
    skipFeeEnforcement?: boolean;
    /** Whether to include metadata such as offchain effects and performance statistics (e.g. timing information of the different circuits and oracles) in
     * the simulation result, instead of just the return value of the function */
    includeMetadata?: boolean;
};
/**
 * Represents the options for profiling an interaction.
 */
export type ProfileInteractionOptions = SimulateInteractionOptions & {
    /** Whether to return gates information or the bytecode/witnesses. */
    profileMode: 'gates' | 'execution-steps' | 'full';
    /** Whether to generate a Chonk proof or not */
    skipProofGeneration?: boolean;
};
/**
 * Represents the result type of a simulation.
 * By default, it will just be the return value of the simulated function
 * If `includeMetadata` is set to true in `SimulateInteractionOptions` on the input of `simulate(...)`,
 * it will provide extra information.
 */
export type SimulationReturn<T extends boolean | undefined> = T extends true ? {
    /** Additional stats about the simulation */
    stats: SimulationStats;
    /** Offchain effects generated during the simulation */
    offchainEffects: OffchainEffect[];
    /**  Return value of the function */
    result: any;
    /** Gas estimation results */
    estimatedGas: Pick<GasSettings, 'gasLimits' | 'teardownGasLimits'>;
} : any;
/**
 * Represents the result type of sending a transaction.
 * If `wait` is NO_WAIT, returns TxHash immediately without waiting.
 * If `wait` is undefined or WaitOpts, returns TReturn (defaults to TxReceipt) after waiting.
 */
export type SendReturn<T extends InteractionWaitOptions, TReturn = TxReceipt> = T extends NoWait ? TxHash : TReturn;
/**
 * Transforms and cleans up the higher level SendInteractionOptions defined by the interaction into
 * SendOptions, which are the ones that can be serialized and forwarded to the wallet
 * @param options - The send interaction options with optional wait parameter
 * @returns The send options to forward to the wallet
 */
export declare function toSendOptions<W extends InteractionWaitOptions = undefined>(options: SendInteractionOptions<W>): SendOptions<W>;
/**
 * Transforms and cleans up the higher level SimulateInteractionOptions defined by the interaction into
 * SimulateOptions, which are the ones that can be serialized and forwarded to the wallet
 */
export declare function toSimulateOptions(options: SimulateInteractionOptions): SimulateOptions;
/**
 * Transforms and cleans up the higher level ProfileInteractionOptions defined by the interaction into
 * ProfileOptions, which are the ones that can be serialized and forwarded to the wallet
 */
export declare function toProfileOptions(options: ProfileInteractionOptions): ProfileOptions;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50ZXJhY3Rpb25fb3B0aW9ucy5kLnRzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbnRyYWN0L2ludGVyYWN0aW9uX29wdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLEVBQUUsUUFBUSxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDeEQsT0FBTyxLQUFLLEVBQUUsV0FBVyxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFDOUQsT0FBTyxLQUFLLEVBQUUsWUFBWSxFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFDaEUsT0FBTyxLQUFLLEVBQUUsV0FBVyxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDckQsT0FBTyxLQUFLLEVBQUUsT0FBTyxFQUFFLGNBQWMsRUFBRSxlQUFlLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBRXBHLE9BQU8sS0FBSyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sOEJBQThCLENBQUM7QUFDckUsT0FBTyxLQUFLLEVBQUUsY0FBYyxFQUFFLFdBQVcsRUFBRSxlQUFlLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUN2RixPQUFPLEtBQUssRUFBRSxRQUFRLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUUvQzs7R0FFRztBQUNILE1BQU0sTUFBTSxvQkFBb0IsR0FBRztJQUNqQyxrSEFBa0g7SUFDbEgsV0FBVyxDQUFDLEVBQUUsT0FBTyxDQUFDO0lBQ3RCLHFIQUFxSDtJQUNySCxtQkFBbUIsQ0FBQyxFQUFFLE1BQU0sQ0FBQztDQUM5QixDQUFDO0FBRUY7OztHQUdHO0FBQ0gsTUFBTSxNQUFNLHNCQUFzQixHQUFHO0lBQ25DLHFEQUFxRDtJQUNyRCxhQUFhLENBQUMsRUFBRSxnQkFBZ0IsQ0FBQztDQUNsQyxDQUFDO0FBRUY7OztHQUdHO0FBQ0gsTUFBTSxNQUFNLGlCQUFpQixHQUFHO0lBQzlCLHVCQUF1QjtJQUN2QixXQUFXLENBQUMsRUFBRSxPQUFP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