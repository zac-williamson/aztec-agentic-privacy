import { Fr } from '@aztec/foundation/curves/bn254';
import type { ContractArtifact, FunctionArtifact } from '@aztec/stdlib/abi';
import type { ContractInstanceWithAddress } from '@aztec/stdlib/contract';
import type { PublicKeys } from '@aztec/stdlib/keys';
import { ExecutionPayload } from '@aztec/stdlib/tx';
import type { Account } from '../account/account.js';
import type { Contract } from '../contract/contract.js';
import type { ContractBase } from '../contract/contract_base.js';
import { DeployMethod, type DeployOptionsWithoutWait, type RequestDeployOptions, type SimulateDeployOptions } from '../contract/deploy_method.js';
import type { FeePaymentMethodOption, InteractionWaitOptions } from '../contract/interaction_options.js';
import type { Wallet } from './index.js';
/**
 * Extended fee payment method option for account deployments that includes entrypoint wrapping options
 */
export type DeployAccountFeePaymentMethodOption = FeePaymentMethodOption & {
    /** Optional entrypoint-specific options for wrapping execution payloads */
    feeEntrypointOptions?: unknown;
};
/**
 * The configuration options for the request method. Omits the contractAddressSalt, since
 * for account contracts that is fixed in the constructor
 */
export type RequestDeployAccountOptions = Omit<RequestDeployOptions, 'contractAddressSalt' | 'fee'> & {
    /** Fee options specific to account deployment */
    fee?: DeployAccountFeePaymentMethodOption;
};
/**
 * Base configuration options for the send/prove methods without wait parameter. Omits:
 * - The contractAddressSalt, since for account contracts that is fixed in the constructor.
 * - UniversalDeployment flag, since account contracts are always deployed with it set to true
 */
export type DeployAccountOptionsWithoutWait = Omit<DeployOptionsWithoutWait, 'contractAddressSalt' | 'universalDeploy'>;
/**
 * The configuration options for the send/prove methods. Omits:
 * - The contractAddressSalt, since for account contracts that is fixed in the constructor.
 * - UniversalDeployment flag, since account contracts are always deployed with it set to true
 */
export type DeployAccountOptions<W extends InteractionWaitOptions = undefined> = DeployAccountOptionsWithoutWait & {
    /**
     * Whether to wait for the transaction to be mined.
     * - undefined (default): wait with default options and return TxReceipt
     * - WaitOpts object: wait with custom options and return TxReceipt
     * - false: return txHash immediately without waiting
     */
    wait?: W;
};
/**
 * The configuration options for the simulate method. Omits the contractAddressSalt, since
 * for account contracts that is fixed in the constructor
 */
export type SimulateDeployAccountOptions = Omit<SimulateDeployOptions, 'contractAddressSalt'>;
/**
 * Modified version of the DeployMethod used to deploy account contracts. Supports deploying
 * contracts that can pay for their own fee, plus some preconfigured options to avoid errors.
 */
export declare class DeployAccountMethod<TContract extends ContractBase = Contract> extends DeployMethod<TContract> {
    private salt;
    private account;
    constructor(publicKeys: PublicKeys, wallet: Wallet, artifact: ContractArtifact, postDeployCtor: (instance: ContractInstanceWithAddress, wallet: Wallet) => TContract, salt: Fr, account: Account, args?: any[], constructorNameOrArtifact?: string | FunctionArtifact);
    /**
     * Returns a FeePaymentMethod that routes the original one provided as an argument
     * through the account's entrypoint. This allows an account contract to pay
     * for its own deployment and initialization.
     *
     * For more details on how the fee payment routing works see documentation of AccountEntrypointMetaPaymentMethod class.
     *
     * @param originalPaymentMethod - originalPaymentMethod The original payment method to be wrapped.
     * @param feeEntrypointOptions - Optional entrypoint-specific options for wrapping. If not provided, will be auto-computed based on the payment method.
     * @returns A FeePaymentMethod that routes the original one through the account's entrypoint (AccountEntrypointMetaPaymentMethod)
     */
    private getSelfFeePaymentMethod;
    /**
     * Returns the execution payload that allows this operation to happen on chain.
     * @param opts - Configuration options.
     * @returns The execution payload for this operation
     */
    request(opts?: RequestDeployAccountOptions): Promise<ExecutionPayload>;
    convertDeployOptionsToRequestOptions(options: DeployAccountOptionsWithoutWait): RequestDeployOptions;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVwbG95X2FjY291bnRfbWV0aG9kLmQudHMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvd2FsbGV0L2RlcGxveV9hY2NvdW50X21ldGhvZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsRUFBRSxFQUFFLE1BQU0sZ0NBQWdDLENBQUM7QUFDcEQsT0FBTyxLQUFLLEVBQUUsZ0JBQWdCLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUU1RSxPQUFPLEtBQUssRUFBRSwyQkFBMkIsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQzFFLE9BQU8sS0FBSyxFQUFFLFVBQVUsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ3JELE9BQU8sRUFBRSxnQkFBZ0IsRUFBMEIsTUFBTSxrQkFBa0IsQ0FBQztBQUU1RSxPQUFPLEtBQUssRUFBRSxPQUFPLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUNyRCxPQUFPLEtBQUssRUFBRSxRQUFRLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUN4RCxPQUFPLEtBQUssRUFBRSxZQUFZLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUNqRSxPQUFPLEVBQ0wsWUFBWSxFQUNaLEtBQUssd0JBQXdCLEVBQzdCLEtBQUssb0JBQW9CLEVBQ3pCLEtBQUsscUJBQXFCLEVBQzNCLE1BQU0sOEJBQThCLENBQUM7QUFDdEMsT0FBTyxLQUFLLEVBQUUsc0JBQXNCLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSxvQ0FBb0MsQ0FBQztBQUd6RyxPQUFPLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFFekM7O0dBRUc7QUFDSCxNQUFNLE1BQU0sbUNBQW1DLEdBQUcsc0JBQXNCLEdBQUc7SUFDekUsMkVBQTJFO0lBQzNFLG9CQUFvQixDQUFDLEVBQUUsT0FBTyxDQUFDO0NBQ2hDLENBQUM7QUFFRjs7O0dBR0c7QUFDSCxNQUFNLE1BQU0sMkJBQTJCLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixFQUFFLHFCQUFxQixHQUFHLEtBQUssQ0FBQyxHQUFHO0lBQ3BHLGlEQUFpRDtJQUNqRCxHQUFHLENBQUMsRUFBRSxtQ0FBbUMsQ0FBQztDQUMzQyxDQUFDO0FBRUY7Ozs7R0FJRztBQUNILE1BQU0sTUFBTSwrQkFBK0IsR0FBRyxJQUFJLENBQUMsd0JBQXdCLEVBQUUscUJBQXFCLEdBQUcsaUJBQWlCLENBQUMsQ0FBQztBQUV4SDs7OztHQUlHO0FBQ0gsTUFBTSxNQUFNLG9CQUFvQixDQUFDLENBQUMsU0FBUyxzQkFBc0IsR0FBRyxTQUFTLElBQUksK0JBQStCLEdBQUc7SUFDakg7Ozs7O09BS0c7SUFDSCxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7Q0FDVixDQUFDO0FBRUY7OztHQUdHO0FBQ0gsTUFBTSxNQUFNLDRCQUE0QixHQUFHLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxxQkFBcUIsQ0FBQyxDQUFDO0FBRTlGOzs7R0FHRztBQUNILHFCQUFhLG1CQUFtQixDQUFDLFNBQVMsU0FBUyxZQUFZLEdBQUcsUUFBUSxDQUFFLFNBQVEsWUFBWSxDQUFDLFNBQVMsQ0FBQztJQU12RyxPQUFPLENBQUMsSUFBSTtJQUNaLE9BQU8sQ0FBQyxPQUFPO0lBTmpCLFlBQ0UsVUFBVSxFQUFFLFVBQVUsRUFDdEIsTUFBTSxFQUFFLE1BQU0sRUFDZCxRQUFRLEVBQUUsZ0JBQWdCLEVBQzFCLGNBQWMsRUFBRSxDQUFDLFFBQVEsRUFBRSwyQkFBMkIsRUFBRSxNQUFNLEVBQUUsTUFBTSxLQUFLLFNBQVMsRUFDNUUsSUFBSSxFQUFFLEVBQUUsRUFDUixPQUFPLEVBQUUsT0FBTyxFQUN4QixJQUFJLEdBQUUsR0FBRyxFQUFPLEVBQ2hCLHlCQUF5QixDQUFDLEVBQUUsTUFBTSxHQUFHLGdCQUFnQixFQUd0RDtJQUVEOzs7Ozs7Ozs7O09BVUc7SUFDSCxPQUFPLENBQUMsdUJBQXVCO0lBTy9COzs7O09BSUc7SUFDbUIsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLDJCQUEyQixHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQThCM0Y7SUFFUSxvQ0FBb0MsQ0FBQyxPQUFPLEVBQUUsK0JBQStCLEdBQUcsb0JBQW9CLENBUzVHO0NBQ0YifQ==