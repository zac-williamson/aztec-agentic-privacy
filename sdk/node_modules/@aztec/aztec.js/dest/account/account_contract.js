import { getContractInstanceFromInstantiationParams } from '@aztec/stdlib/contract';
import { deriveKeys } from '@aztec/stdlib/keys';
/**
 * Compute the address of an account contract from secret and salt.
 */ export async function getAccountContractAddress(accountContract, secret, salt) {
    const { publicKeys } = await deriveKeys(secret);
    const { constructorName, constructorArgs } = await accountContract.getInitializationFunctionAndArgs() ?? {
        constructorName: undefined,
        constructorArgs: undefined
    };
    const artifact = await accountContract.getContractArtifact();
    const instance = await getContractInstanceFromInstantiationParams(artifact, {
        constructorArtifact: constructorName,
        constructorArgs,
        salt,
        publicKeys
    });
    return instance.address;
}
