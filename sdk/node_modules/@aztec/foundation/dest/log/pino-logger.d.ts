import { type Color } from 'colorette';
import type { Writable } from 'stream';
import type { LogLevel } from './log-levels.js';
import type { LogData, LogFn } from './log_fn.js';
/** Optional bindings to pass to createLogger for additional context. */
export type LoggerBindings = {
    /** Actor label shown in logs (e.g., 'MAIN', 'prover-node'). */
    actor?: string;
    /** Instance identifier for distinguishing multiple instances of the same component. */
    instanceId?: string;
};
type LogBindingsHandler = () => LoggerBindings | undefined;
export declare function addLogBindingsHandler(handler: LogBindingsHandler): void;
export declare function removeLogBindingsHandler(handler: LogBindingsHandler): void;
export declare function createLogger(module: string, bindings?: LoggerBindings): Logger;
/**
 * Returns a logger for the given module. If loggerOrBindings is already a Logger, returns it directly.
 * Otherwise, creates a new logger with the given module name and bindings.
 */
export declare function resolveLogger(module: string, loggerOrBindings?: Logger | LoggerBindings): Logger;
type LogDataHandler = (data: LogData) => LogData;
export declare function addLogDataHandler(handler: LogDataHandler): void;
export declare const logLevel: "debug" | "error" | "fatal" | "info" | "silent" | "trace" | "verbose" | "warn", logFilters: import("./log-filters.js").LogFilters;
export declare const levels: {
    labels: any;
    values: {
        verbose: number;
    };
};
/** Returns the color function assigned to a given actor, assigning a new one if needed. */
export declare function getActorColor(actor: string): Color;
/** Resets the actor-to-color mapping. Useful for testing. */
export declare function resetActorColors(): void;
type LogObject = {
    actor?: string;
    module?: string;
    instanceId?: string;
    msg?: string;
};
/** Formats a log message with per-actor coloring. Actor, module, and instanceId share the same color. */
export declare function formatLogMessage(log: LogObject, messageKey: string): string;
/**
 * Pino-pretty options for direct use (e.g., jest/setup.mjs).
 * Includes function-based messageFormat for per-actor coloring when enabled.
 */
export declare const pinoPrettyOpts: {
    destination: number;
    sync: boolean;
    colorize: boolean;
    ignore: string;
    customLevels: string;
    customColors: string;
    minimumLevel: "trace";
    singleLine: boolean;
    messageFormat: string | typeof formatLogMessage;
};
export declare const logger: import("pino").Logger<"verbose", boolean>;
/**
 * Overwrites the logging stream with a different destination.
 * Used by jest/setup.mjs to set up a pretty logger.
 */
export declare function overwriteLoggingStream(stream: Writable): void;
/**
 * Registers an additional destination to the pino logger.
 * Use only when working with destinations, not worker transports.
 */
export declare function registerLoggingStream(stream: Writable): void;
/** Log function that accepts an exception object */
type ErrorLogFn = (msg: string, err?: unknown, data?: LogData) => void;
/**
 * Logger that supports multiple severity levels.
 */
export type Logger = {
    [K in LogLevel]: LogFn;
} & {
    error: ErrorLogFn;
} & {
    level: LogLevel;
    isLevelEnabled: (level: LogLevel) => boolean;
    module: string;
    createChild: (childModule: string) => Logger;
    /** Returns the bindings (actor, instanceId) for this logger. */
    getBindings: () => LoggerBindings;
};
export {};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGluby1sb2dnZXIuZC50cyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9sb2cvcGluby1sb2dnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLEtBQUssS0FBSyxFQUFrQyxNQUFNLFdBQVcsQ0FBQztBQUd2RSxPQUFPLEtBQUssRUFBRSxRQUFRLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFTdkMsT0FBTyxLQUFLLEVBQUUsUUFBUSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDaEQsT0FBTyxLQUFLLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUVsRCx3RUFBd0U7QUFDeEUsTUFBTSxNQUFNLGNBQWMsR0FBRztJQUMzQiwrREFBK0Q7SUFDL0QsS0FBSyxDQUFDLEVBQUUsTUFBTSxDQUFDO0lBQ2YsdUZBQXVGO0lBQ3ZGLFVBQVUsQ0FBQyxFQUFFLE1BQU0sQ0FBQztDQUNyQixDQUFDO0FBSUYsS0FBSyxrQkFBa0IsR0FBRyxNQUFNLGNBQWMsR0FBRyxTQUFTLENBQUM7QUFHM0Qsd0JBQWdCLHFCQUFxQixDQUFDLE9BQU8sRUFBRSxrQkFBa0IsR0FBRyxJQUFJLENBRXZFO0FBRUQsd0JBQWdCLHdCQUF3QixDQUFDLE9BQU8sRUFBRSxrQkFBa0IsUUFLbkU7QUFZRCx3QkFBZ0IsWUFBWSxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsUUFBUSxDQUFDLEVBQUUsY0FBYyxHQUFHLE1BQU0sQ0E2QzlFO0FBRUQ7OztHQUdHO0FBQ0gsd0JBQWdCLGFBQWEsQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLGdCQUFnQixDQUFDLEVBQUUsTUFBTSxHQUFHLGNBQWMsR0FBRyxNQUFNLENBS2hHO0FBSUQsS0FBSyxjQUFjLEdBQUcsQ0FBQyxJQUFJLEVBQUUsT0FBTyxLQUFLLE9BQU8sQ0FBQztBQUdqRCx3QkFBZ0IsaUJBQWlCLENBQUMsT0FBTyxFQUFFLGNBQWMsR0FBRyxJQUFJLENBRS9EO0FBZUQsZUFBTyxNQUFPLFFBQVEsa0ZBQUUsVUFBVSx1Q0FBK0QsQ0FBQztBQTZDbEcsZUFBTyxNQUFNLE1BQU07Ozs7O0NBR2xCLENBQUM7QUFlRiwyRkFBMkY7QUFDM0Ysd0JBQWdCLGFBQWEsQ0FBQyxLQUFLLEVBQUUsTUFBTSxHQUFHLEtBQUssQ0FRbEQ7QUFFRCw2REFBNkQ7QUFDN0Qsd0JBQWdCLGdCQUFnQixJQUFJLElBQUksQ0FHdkM7QUFNRCxLQUFLLFNBQVMsR0FBRztJQUFFLEtBQUssQ0FBQyxFQUFFLE1BQU0sQ0FBQztJQUFDLE1BQU0sQ0FBQyxFQUFFLE1BQU0sQ0FBQztJQUFDLFVBQVUsQ0FBQyxFQUFFLE1BQU0sQ0FBQztJQUFDLEdBQUcsQ0FBQyxFQUFFLE1BQU0sQ0FBQTtDQUFFLENBQUM7QUFFeEYseUdBQXlHO0FBQ3pHLHdCQUFnQixnQkFBZ0IsQ0FBQyxHQUFHLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxNQUFNLEdBQUcsTUFBTSxDQWtCM0U7QUFjRDs7O0dBR0c7QUFDSCxlQUFPLE1BQU0sY0FBYzs7Ozs7Ozs7OztDQUcxQixDQUFDO0FBMERGLGVBQU8sTUFBTSxNQUFNLDJDQUFlLENBQUM7QUFhbkM7OztHQUdHO0FBQ0gsd0JBQWdCLHNCQUFzQixDQUFDLE1BQU0sRUFBRSxRQUFRLEdBQUcsSUFBSSxDQUU3RDtBQUVEOzs7R0FHRztBQUNILHdCQUFnQixxQkFBcUIsQ0FBQyxNQUFNLEVBQUUsUUFBUSxHQUFHLElBQUksQ0FlNUQ7QUFFRCxvREFBb0Q7QUFDcEQsS0FBSyxVQUFVLEdBQUcsQ0FBQyxHQUFHLEVBQUUsTUFBTSxFQUFFLEdBQUcsQ0FBQyxFQUFFLE9BQU8sRUFBRSxJQUFJLENBQUMsRUFBRSxPQUFPLEtBQUssSUFBSSxDQUFDO0FBRXZFOztHQUVHO0FBQ0gsTUFBTSxNQUFNLE1BQU0sR0FBRztLQUFHLENBQUMsSUFBSSxRQUFRLEdBQUcsS0FBSztDQUFFLEdBQUc7SUFBNEIsS0FBSyxFQUFFLFVBQVUsQ0FBQTtDQUFFLEdBQUc7SUFDbEcsS0FBSyxFQUFFLFFBQVEsQ0FBQztJQUNoQixjQUFjLEVBQUUsQ0FBQyxLQUFLLEVBQUUsUUFBUSxLQUFLLE9BQU8sQ0FBQztJQUM3QyxNQUFNLEVBQUUsTUFBTSxDQUFDO0lBQ2YsV0FBVyxFQUFFLENBQUMsV0FBVyxFQUFFLE1BQU0sS0FBSyxNQUFNLENBQUM7SUFDN0MsZ0VBQWdFO0lBQ2hFLFdBQVcsRUFBRSxNQUFNLGNBQWMsQ0FBQztDQUNuQyxDQUFDIn0=