var _computedKey;
import { inspect } from 'util';
_computedKey = inspect.custom;
/**
 * A class wrapping a secret value to protect it from accidently being leaked in logs
 */ export class SecretValue {
    redactedValue;
    /** The secret value. Use a private member field so that it's not visible to the outside */ #value;
    constructor(value, redactedValue = '[Redacted]'){
        this.redactedValue = redactedValue;
        this.#value = value;
    }
    /**
   * Returns the wrapped value
   */ getValue() {
        return this.#value;
    }
    /**
   * Returns a redacted string representation of the value
   */ toString() {
        return this.redactedValue;
    }
    /**
   * Returns a redacted string representation of the value
   */ toJSON() {
        return this.redactedValue;
    }
    [_computedKey]() {
        return this.toString();
    }
    /**
   * Returns a Zod schema
   */ static schema(valueSchema) {
        return valueSchema.transform((value)=>new SecretValue(value));
    }
}
