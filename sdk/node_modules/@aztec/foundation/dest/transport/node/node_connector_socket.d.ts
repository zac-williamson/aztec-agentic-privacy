import type { Worker } from 'worker_threads';
import type { Socket } from '../interface/socket.js';
/**
 * NodeConnectorSocket is a wrapper class that implements the Socket interface for messaging between
 * the main thread and worker threads in a Node.js environment. It uses the Worker API for
 * communication by sending and receiving messages through postMessage and handling messages using
 * event listeners.
 *
 * The send method sends messages to the worker thread, and the registerHandler method registers a
 * callback function to handle incoming messages from the worker. The close method cleans up
 * resources when the socket is no longer needed.
 */
export declare class NodeConnectorSocket implements Socket {
    private worker;
    constructor(worker: Worker);
    /**
     * Sends a message from the NodeConnectorSocket instance to the associated worker thread.
     * The 'msg' can be any data type and 'transfer' is an optional array of transferable objects
     * that can be transferred with zero-copy semantics. The function returns a resolved Promise
     * once the message has been posted.
     *
     * @param msg - The message to send to the worker thread.
     * @param transfer - Optional array of Transferable objects to transfer ownership alongside the message.
     * @returns A Promise that resolves when the message has been posted.
     */
    send(msg: any, transfer?: Transferable[]): Promise<void>;
    /**
     * Registers a callback function to handle incoming messages from the worker.
     * The provided callback will be executed whenever a message is received from
     * the worker, passing the message as its single argument.
     *
     * @param cb - The callback function to be called when a message is received.
     */
    registerHandler(cb: (msg: any) => any): void;
    /**
     * Closes the worker connection and removes all event listeners.
     * Sends an undefined message to the worker for graceful termination.
     */
    close(): void;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9jb25uZWN0b3Jfc29ja2V0LmQudHMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvdHJhbnNwb3J0L25vZGUvbm9kZV9jb25uZWN0b3Jfc29ja2V0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxFQUFvQixNQUFNLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUUvRCxPQUFPLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUVyRDs7Ozs7Ozs7O0dBU0c7QUFDSCxxQkFBYSxtQkFBb0IsWUFBVyxNQUFNO0lBQ3BDLE9BQU8sQ0FBQyxNQUFNO0lBQTFCLFlBQW9CLE1BQU0sRUFBRSxNQUFNLEVBQUk7SUFFdEM7Ozs7Ozs7OztPQVNHO0lBQ0gsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsUUFBUSxHQUFFLFlBQVksRUFBTyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FHM0Q7SUFFRDs7Ozs7O09BTUc7SUFDSCxlQUFlLENBQUMsRUFBRSxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsS0FBSyxHQUFHLEdBQUcsSUFBSSxDQUUzQztJQUVEOzs7T0FHRztJQUNILEtBQUssU0FHSjtDQUNGIn0=