/**
 * TimeoutTask class creates an instance for managing and executing a given asynchronous function with a specified timeout duration.
 * The task will be automatically interrupted if it exceeds the given timeout duration, and will throw a custom error message.
 * Additional information such as execution time can be retrieved using getTime method after the task has been executed.
 *
 * @typeparam T - The return type of the asynchronous function to be executed.
 */
export declare class TimeoutTask<T> {
    private fn;
    private timeout;
    private errorFn;
    private onAbort?;
    private totalTime;
    private timeoutPromise;
    constructor(fn: (signal: AbortSignal) => Promise<T>, timeout: number, errorFn: () => Error, onAbort?: (() => void) | undefined);
    /**
     * Executes the given function with a specified timeout.
     * If the function takes longer than the timeout, it will be interrupted and an error will be thrown.
     * The total execution time of the function will be stored in the totalTime property.
     *
     * @returns The result of the executed function if completed within the timeout.
     * @throws An error with a message indicating the function was interrupted due to exceeding the specified timeout.
     */
    exec(): Promise<T>;
    /**
     * Returns the interrupt promise associated with the TimeoutTask instance.
     * The interrupt promise is used internally to reject the task when a timeout occurs.
     * This method can be helpful when debugging or tracking the state of the task.
     *
     * @returns The interrupt promise associated with the task.
     */
    getInterruptPromise(): Promise<never> | undefined;
    /**
     * Get the total time spent on the most recent execution of the wrapped function.
     * This method provides the duration from the start to the end of the function execution, whether it completed or timed out.
     *
     * @returns The total time in milliseconds spent on the most recent function execution.
     */
    getTime(): number;
}
/**
 * Executes a function with a timeout.
 * @param fn - The function to execute, accepts AbortSignal and returns a Promise.
 * @param timeout - The maximum time in milliseconds to allow the function to run.
 * @param errorOrFnName - Optional function name or a function that returns an Error to throw if the timeout is reached.
 * @param onAbort - Optional callback to execute when the task is aborted.
 *
 * @returns A Promise that resolves with the result of the function fn if it completes within the timeout
 *
 * */
export declare function executeTimeout<T>(fn: (signal: AbortSignal) => Promise<T>, timeout: number, errorOrFnName?: string | (() => Error), onAbort?: () => void): Promise<T>;
/** Returns a promise that rejects after the given timeout */
export declare function timeoutPromise(timeoutMs: number, errorMessage?: string): Promise<never>;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGltZW91dC5kLnRzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3RpbWVyL3RpbWVvdXQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0E7Ozs7OztHQU1HO0FBQ0gscUJBQWEsV0FBVyxDQUFDLENBQUM7SUFLdEIsT0FBTyxDQUFDLEVBQUU7SUFDVixPQUFPLENBQUMsT0FBTztJQUNmLE9BQU8sQ0FBQyxPQUFPO0lBQ2YsT0FBTyxDQUFDLE9BQU8sQ0FBQztJQVBsQixPQUFPLENBQUMsU0FBUyxDQUFLO0lBQ3RCLE9BQU8sQ0FBQyxjQUFjLENBQTZCO0lBRW5ELFlBQ1UsRUFBRSxFQUFFLENBQUMsTUFBTSxFQUFFLFdBQVcsS0FBSyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQ3ZDLE9BQU8sRUFBRSxNQUFNLEVBQ2YsT0FBTyxFQUFFLE1BQU0sS0FBSyxFQUNwQixPQUFPLENBQUMsMEJBQVksRUFDMUI7SUFFSjs7Ozs7OztPQU9HO0lBQ1UsSUFBSSxlQWlCaEI7SUFFRDs7Ozs7O09BTUc7SUFDSSxtQkFBbUIsK0JBRXpCO0lBRUQ7Ozs7O09BS0c7SUFDSSxPQUFPLFdBRWI7Q0FDRjtBQUVEOzs7Ozs7Ozs7S0FTSztBQUNMLHdCQUFzQixjQUFjLENBQUMsQ0FBQyxFQUNwQyxFQUFFLEVBQUUsQ0FBQyxNQUFNLEVBQUUsV0FBVyxLQUFLLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFDdkMsT0FBTyxFQUFFLE1BQU0sRUFDZixhQUFhLENBQUMsRUFBRSxNQUFNLEdBQUcsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUN0QyxPQUFPLENBQUMsRUFBRSxNQUFNLElBQUksY0FRckI7QUFFRCw2REFBNkQ7QUFDN0Qsd0JBQWdCLGNBQWMsQ0FBQyxTQUFTLEVBQUUsTUFBTSxFQUFFLFlBQVksQ0FBQyxFQUFFLE1BQU0sa0JBU3RFIn0=