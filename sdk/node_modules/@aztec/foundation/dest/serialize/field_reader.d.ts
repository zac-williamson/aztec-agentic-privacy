import { Fq, type Fr } from '../curves/bn254/field.js';
import type { Tuple } from './types.js';
/**
 * The FieldReader class provides a utility for reading various data types from a field array.
 *
 * Usage:
 * Create a new instance of FieldReader with an array of fields and an optional offset.
 * Use the provided methods to read desired data types from the field array.
 * The reading methods automatically advance the internal index.
 */
export declare class FieldReader {
    private fields;
    private index;
    private readonly length;
    constructor(fields: Fr[], offset?: number);
    /**
     * Creates a FieldReader instance from either a field array or an existing FieldReader.
     *
     * @param fields - A field array or FieldReader to initialize the FieldReader.
     * @returns An instance of FieldReader.
     */
    static asReader(fields: Fr[] | FieldReader): FieldReader;
    /**
     * Returns the current cursor position.
     *
     * @returns The current cursor position.
     */
    get cursor(): number;
    remainingFields(): number;
    /**
     * Skips the next n fields.
     *
     * @param n - The number of fields to skip.
     */
    skip(n: number): void;
    /**
     * Reads a single field from the array.
     *
     * @returns A field.
     */
    readField(): Fr;
    /**
     * Peeks at the next field without advancing the cursor.
     *
     * @returns A field.
     */
    peekField(): Fr;
    /**
     * Reads a Fq from the array.
     *
     * @returns An Fq.
     */
    readFq(): Fq;
    /**
     * Reads and returns the next boolean value from the field array.
     * Advances the internal index by 1, treating the field at the current index as a boolean value.
     * Returns true if the field is non-zero, false otherwise.
     * Throw if the value is not 0 or 1.
     *
     * @returns A boolean value representing the field at the current index.
     */
    readBoolean(): boolean;
    /**
     * Reads a 32-bit unsigned integer from the field array at the current index position.
     * Updates the index position by 1 after reading the number.
     * Throw if the value is greater than 2 ** 32.
     *
     * @returns The read 32-bit unsigned integer value.
     */
    readU32(): number;
    /**
     * Reads a 64-bit unsigned integer from the field array at the current index position.
     * Updates the index position by 1 after reading the number.
     * Throw if the value is greater than 2 ** 64.
     *
     * @returns The read 64-bit unsigned integer value as a bigint.
     */
    readU64(): bigint;
    /**
     * Read an array of a fixed size field array.
     *
     * @param size - The fixed number of fields in the array.
     * @returns An array of fields.
     */
    readFieldArray<N extends number>(size: N): Tuple<Fr, N>;
    /**
     * Read an array of a fixed size with elements of type T from the field array.
     * The 'itemDeserializer' object should have a 'fromFields' method that takes a FieldReader instance as input,
     * and returns an instance of the desired deserialized data type T.
     * This method will call the 'fromFields' method for each element in the array and return the resulting array.
     *
     * @param size - The fixed number of elements in the array.
     * @param itemDeserializer - An object with a 'fromFields' method to deserialize individual elements of type T.
     * @returns An array of instances of type T.
     */
    readArray<T, N extends number>(size: N, itemDeserializer: {
        /**
         * A function for deserializing data from a FieldReader instance.
         */
        fromFields: (reader: FieldReader) => T;
    }): Tuple<T, N>;
    /**
     * Reads a serialized object from a field array and returns the deserialized object using the given deserializer.
     *
     * @typeparam T - The type of the deserialized object.
     * @param deserializer - An object with a 'fromFields' method that takes a FieldReader instance and returns an instance of the deserialized object.
     * @returns The deserialized object of type T.
     */
    readObject<T>(deserializer: {
        /**
         * A method that takes a FieldReader instance and returns an instance of the deserialized data type.
         */
        fromFields: (reader: FieldReader) => T;
    }): T;
    /**
     * Returns whether the reader has finished reading all fields.
     * @returns A bool.
     */
    isFinished(): boolean;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmllbGRfcmVhZGVyLmQudHMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2VyaWFsaXplL2ZpZWxkX3JlYWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDdkQsT0FBTyxLQUFLLEVBQUUsS0FBSyxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBRXhDOzs7Ozs7O0dBT0c7QUFDSCxxQkFBYSxXQUFXO0lBS3BCLE9BQU8sQ0FBQyxNQUFNO0lBSmhCLE9BQU8sQ0FBQyxLQUFLLENBQVM7SUFDdEIsT0FBTyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQVM7SUFFaEMsWUFDVSxNQUFNLEVBQUUsRUFBRSxFQUFFLEVBQ3BCLE1BQU0sU0FBSSxFQU9YO0lBRUQ7Ozs7O09BS0c7SUFDSCxPQUFjLFFBQVEsQ0FBQyxNQUFNLEVBQUUsRUFBRSxFQUFFLEdBQUcsV0FBVyxHQUFHLFdBQVcsQ0FNOUQ7SUFFRDs7OztPQUlHO0lBQ0gsSUFBVyxNQUFNLFdBRWhCO0lBRU0sZUFBZSxJQUFJLE1BQU0sQ0FFL0I7SUFFRDs7OztPQUlHO0lBQ0ksSUFBSSxDQUFDLENBQUMsRUFBRSxNQUFNLFFBS3BCO0lBRUQ7Ozs7T0FJRztJQUNJLFNBQVMsSUFBSSxFQUFFLENBS3JCO0lBRUQ7Ozs7T0FJRztJQUNJLFNBQVMsSUFBSSxFQUFFLENBS3JCO0lBRUQ7Ozs7T0FJRztJQUNJLE1BQU0sSUFBSSxFQUFFLENBRWxCO0lBRUQ7Ozs7Ozs7T0FPRztJQUNJLFdBQVcsSUFBSSxPQUFPLENBTzVCO0lBRUQ7Ozs7OztPQU1HO0lBQ0ksT0FBTyxJQUFJLE1BQU0sQ0FPdkI7SUFFRDs7Ozs7O09BTUc7SUFDSSxPQUFPLElBQUksTUFBTSxDQU92QjtJQUVEOzs7OztPQUtHO0lBQ0ksY0FBYyxDQUFDLENBQUMsU0FBUyxNQUFNLEVBQUUsSUFBSSxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQU03RDtJQUVEOzs7Ozs7Ozs7T0FTRztJQUNJLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxTQUFTLE1BQU0sRUFDbEMsSUFBSSxFQUFFLENBQUMsRUFDUCxnQkFBZ0IsRUFBRTtRQUNoQjs7V0FFRztRQUNILFVBQVUsRUFBRSxDQUFDLE1BQU0sRUFBRSxXQUFXLEtBQUssQ0FBQyxDQUFDO0tBQ3hDLEdBQ0EsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FHYjtJQUVEOzs7Ozs7T0FNRztJQUNJLFVBQVUsQ0FBQyxDQUFDLEVBQUUsWUFBWSxFQUFFO1FBQ2pDOztXQUVHO1FBQ0gsVUFBVSxFQUFFLENBQUMsTUFBTSxFQUFFLFdBQVcsS0FBSyxDQUFDLENBQUM7S0FDeEMsR0FBRyxDQUFDLENBRUo7SUFFRDs7O09BR0c7SUFDSSxVQUFVLElBQUksT0FBTyxDQUUzQjtDQUNGIn0=