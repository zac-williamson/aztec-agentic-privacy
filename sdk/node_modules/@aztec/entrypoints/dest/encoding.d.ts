import { Fr } from '@aztec/foundation/curves/bn254';
import type { Tuple } from '@aztec/foundation/serialize';
import { FunctionCall } from '@aztec/stdlib/abi';
import { HashedValues } from '@aztec/stdlib/tx';
export declare const APP_MAX_CALLS = 5;
/** Encoded function call for an Aztec entrypoint */
export type EncodedFunctionCall = {
    /** Arguments hash for the call. */
    /** This should be the calldata hash `hash([function_selector, ...args])` if `is_public` is true. */
    args_hash: Fr;
    /** Selector of the function to call */
    function_selector: Fr;
    /** Address of the contract to call */
    target_address: Fr;
    /** Whether the function is public or private */
    is_public: boolean;
    /** Only applicable for enqueued public function calls. Whether the msg_sender will be set to "null". */
    hide_msg_sender: boolean;
    /** Whether the function can alter state */
    is_static: boolean;
};
/** Type that represents function calls ready to be sent to a circuit for execution */
export type EncodedCalls = {
    /** Function calls in the expected format (Noir's convention) */
    encodedFunctionCalls: EncodedFunctionCall[];
    /** The hashed args for the call, ready to be injected in the execution cache */
    hashedArguments: HashedValues[];
};
/**
 * Entrypoints derive their arguments from the calls that they'll ultimate make.
 * This utility class helps in creating the payload for the entrypoint by taking into
 * account how the calls are encoded and hashed.
 * */
export declare class EncodedAppEntrypointCalls implements EncodedCalls {
    /** Function calls in the expected format (Noir's convention) */
    encodedFunctionCalls: EncodedFunctionCall[];
    /** The hashed args for the call, ready to be injected in the execution cache */
    hashedArguments: HashedValues[];
    /** The index of the generator to use for hashing */
    domainSeparator: number;
    /**
     * A nonce to inject into the payload of the transaction. When used with cancellable=true, this nonce will be
     * used to compute a nullifier that allows cancelling this transaction by submitting a new one with the same nonce
     * but higher fee. The nullifier ensures only one transaction can succeed.
     */
    tx_nonce: Fr;
    constructor(
    /** Function calls in the expected format (Noir's convention) */
    encodedFunctionCalls: EncodedFunctionCall[], 
    /** The hashed args for the call, ready to be injected in the execution cache */
    hashedArguments: HashedValues[], 
    /** The index of the generator to use for hashing */
    domainSeparator: number, 
    /**
     * A nonce to inject into the payload of the transaction. When used with cancellable=true, this nonce will be
     * used to compute a nullifier that allows cancelling this transaction by submitting a new one with the same nonce
     * but higher fee. The nullifier ensures only one transaction can succeed.
     */
    tx_nonce: Fr);
    /**
     * The function calls to execute. This uses snake_case naming so that it is compatible with Noir encoding
     * @internal
     */
    get function_calls(): EncodedFunctionCall[];
    /**
     * Serializes the payload to an array of fields
     * @returns The fields of the payload
     */
    toFields(): Fr[];
    /**
     * Hashes the payload
     * @returns The hash of the payload
     */
    hash(): Promise<Fr>;
    /** Serializes the function calls to an array of fields. */
    protected functionCallsToFields(): Fr[];
    /**
     * Encodes the functions for the app-portion of a transaction from a set of function calls and a nonce
     * @param functionCalls - The function calls to execute
     * @param txNonce - A nonce used to enable transaction cancellation when cancellable=true. Transactions with the same
     * nonce can be replaced by submitting a new one with a higher fee.
     * @returns The encoded calls
     */
    static create(functionCalls: FunctionCall[] | Tuple<FunctionCall, typeof APP_MAX_CALLS>, txNonce?: Fr): Promise<EncodedAppEntrypointCalls>;
}
/** Encodes FunctionCalls for execution, following Noir's convention */
export declare function encode(calls: FunctionCall[]): Promise<EncodedCalls>;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW5jb2RpbmcuZC50cyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9lbmNvZGluZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQSxPQUFPLEVBQUUsRUFBRSxFQUFFLE1BQU0sZ0NBQWdDLENBQUM7QUFDcEQsT0FBTyxLQUFLLEVBQUUsS0FBSyxFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFDekQsT0FBTyxFQUFFLFlBQVksRUFBZ0IsTUFBTSxtQkFBbUIsQ0FBQztBQUMvRCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFJaEQsZUFBTyxNQUFNLGFBQWEsSUFBSSxDQUFDO0FBRS9CLG9EQUFvRDtBQUNwRCxNQUFNLE1BQU0sbUJBQW1CLEdBQUc7SUFDaEMsbUNBQW1DO0lBQ25DLG9HQUFvRztJQUNwRyxTQUFTLEVBQUUsRUFBRSxDQUFDO0lBQ2QsdUNBQXVDO0lBQ3ZDLGlCQUFpQixFQUFFLEVBQUUsQ0FBQztJQUN0QixzQ0FBc0M7SUFDdEMsY0FBYyxFQUFFLEVBQUUsQ0FBQztJQUNuQixnREFBZ0Q7SUFDaEQsU0FBUyxFQUFFLE9BQU8sQ0FBQztJQUNuQix3R0FBd0c7SUFDeEcsZUFBZSxFQUFFLE9BQU8sQ0FBQztJQUN6QiwyQ0FBMkM7SUFDM0MsU0FBUyxFQUFFLE9BQU8sQ0FBQztDQUNwQixDQUFDO0FBRUYsc0ZBQXNGO0FBQ3RGLE1BQU0sTUFBTSxZQUFZLEdBQUc7SUFDekIsZ0VBQWdFO0lBQ2hFLG9CQUFvQixFQUFFLG1CQUFtQixFQUFFLENBQUM7SUFDNUMsZ0ZBQWdGO0lBQ2hGLGVBQWUsRUFBRSxZQUFZLEVBQUUsQ0FBQztDQUNqQyxDQUFDO0FBRUY7Ozs7S0FJSztBQUNMLHFCQUFhLHlCQUEwQixZQUFXLFlBQVk7SUFFMUQsZ0VBQWdFO0lBQ3pELG9CQUFvQixFQUFFLG1CQUFtQixFQUFFO0lBQ2xELGdGQUFnRjtJQUN6RSxlQUFlLEVBQUUsWUFBWSxFQUFFO0lBQ3RDLG9EQUFvRDtJQUM3QyxlQUFlLEVBQUUsTUFBTTtJQUM5Qjs7OztPQUlHO0lBRUksUUFBUSxFQUFFLEVBQUU7SUFickI7SUFDRSxnRUFBZ0U7SUFDekQsb0JBQW9CLEVBQUUsbUJBQW1CLEVBQUU7SUFDbEQsZ0ZBQWdGO0lBQ3pFLGVBQWUsRUFBRSxZQUFZLEVBQUU7SUFDdEMsb0RBQW9EO0lBQzdDLGVBQWUsRUFBRSxNQUFNO0lBQzlCOzs7O09BSUc7SUFFSSxRQUFRLEVBQUUsRUFBRSxFQUNqQjtJQUdKOzs7T0FHRztJQUNILElBQUksY0FBYywwQkFFakI7SUFHRDs7O09BR0c7SUFDSCxRQUFRLElBQUksRUFBRSxFQUFFLENBRWY7SUFFRDs7O09BR0c7SUFDSCxJQUFJLGdCQUVIO0lBRUQsMkRBQTJEO0lBQzNELFNBQVMsQ0FBQyxxQkFBcUIsU0FTOUI7SUFFRDs7Ozs7O09BTUc7SUFDSCxPQUFhLE1BQU0sQ0FDakIsYUFBYSxFQUFFLFlBQVksRUFBRSxHQUFHLEtBQUssQ0FBQyxZQUFZLEVBQUUsT0FBTyxhQUFhLENBQUMsRUFDekUsT0FBTyxLQUFjLHNDQWF0QjtDQUNGO0FBRUQsdUVBQXVFO0FBQ3ZFLHdCQUFzQixNQUFNLENBQUMsS0FBSyxFQUFFLFlBQVksRUFBRSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0F3QnpFIn0=