/**
 * A cache for hashed values (arguments, returns) during transaction execution.
 */ export class HashedValuesCache {
    cache;
    constructor(initialArguments = []){
        this.cache = new Map();
        for (const initialArg of initialArguments){
            this.cache.set(initialArg.hash.toBigInt(), initialArg.values);
        }
    }
    /**
   * Creates a new hashed values cache.
   * @param initialArguments - The initial arguments to add to the cache.
   * @returns The new hashed values cache.
   */ static create(initialArguments = []) {
        return new HashedValuesCache(initialArguments);
    }
    /**
   * Gets preimage of a hash.
   * @param hash - The hash to get the preimage of.
   * @returns The preimage.
   */ getPreimage(hash) {
        if (hash.isEmpty()) {
            return [];
        } else {
            return this.cache.get(hash.toBigInt());
        }
    }
    /**
   * Stores values in cache and returns its hash.
   * @param values - The values to store.
   * @returns The hash of the values.
   */ store(values, hash) {
        this.cache.set(hash.toBigInt(), values);
    }
}
