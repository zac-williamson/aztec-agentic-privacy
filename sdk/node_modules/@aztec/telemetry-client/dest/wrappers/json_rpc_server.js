import { createSafeJsonRpcServer } from '@aztec/foundation/json-rpc/server';
import { getOtelJsonRpcPropagationMiddleware } from '../otel_propagation.js';
export function createTracedJsonRpcServer(handler, schema, options = {}) {
    return createSafeJsonRpcServer(handler, schema, {
        ...options,
        middlewares: [
            ...options.middlewares ?? [],
            getOtelJsonRpcPropagationMiddleware()
        ]
    });
}
