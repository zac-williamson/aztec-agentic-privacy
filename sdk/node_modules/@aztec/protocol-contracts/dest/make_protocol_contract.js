import { getContractClassFromArtifact, getContractInstanceFromInstantiationParams } from '@aztec/stdlib/contract';
import { ProtocolContractAddress, ProtocolContractSalt } from './protocol_contract_data.js';
/**
 * Returns the canonical deployment given its name and artifact.
 * To be used internally within the protocol-contracts package.
 */ export async function makeProtocolContract(name, artifact) {
    const address = ProtocolContractAddress[name];
    const salt = ProtocolContractSalt[name];
    // TODO(@spalladino): This computes the contract class from the artifact twice.
    const contractClass = await getContractClassFromArtifact(artifact);
    const instance = await getContractInstanceFromInstantiationParams(artifact, {
        salt,
        deployer: address
    });
    return {
        instance: {
            ...instance,
            address
        },
        contractClass,
        artifact,
        address
    };
}
