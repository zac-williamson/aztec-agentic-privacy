import type { Bufferable, FromBuffer } from '@aztec/foundation/serialize';
import type { AztecKVStore } from '@aztec/kv-store';
import type { TreeBase } from '../tree_base.js';
import { BaseFullTreeSnapshotBuilder } from './base_full_snapshot.js';
import type { TreeSnapshot, TreeSnapshotBuilder } from './snapshot_builder.js';
/**
 * Builds a full snapshot of a tree. This implementation works for any Merkle tree and stores
 * it in a database in a similar way to how a tree is stored in memory, using pointers.
 *
 * Sharing the same database between versions and trees is recommended as the trees would share
 * structure.
 *
 * Complexity:
 * N - count of non-zero nodes in tree
 * M - count of snapshots
 * H - tree height
 * Worst case space complexity: O(N * M)
 * Sibling path access: O(H) database reads
 */
export declare class FullTreeSnapshotBuilder<T extends Bufferable> extends BaseFullTreeSnapshotBuilder<TreeBase<T>, TreeSnapshot<T>> implements TreeSnapshotBuilder<TreeSnapshot<T>> {
    private deserializer;
    constructor(db: AztecKVStore, tree: TreeBase<T>, deserializer: FromBuffer<T>);
    protected openSnapshot(root: Buffer, numLeaves: bigint): TreeSnapshot<T>;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZnVsbF9zbmFwc2hvdC5kLnRzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3NuYXBzaG90cy9mdWxsX3NuYXBzaG90LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUMxRSxPQUFPLEtBQUssRUFBRSxZQUFZLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUVwRCxPQUFPLEtBQUssRUFBRSxRQUFRLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNoRCxPQUFPLEVBQXdCLDJCQUEyQixFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDNUYsT0FBTyxLQUFLLEVBQUUsWUFBWSxFQUFFLG1CQUFtQixFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFFL0U7Ozs7Ozs7Ozs7Ozs7R0FhRztBQUNILHFCQUFhLHVCQUF1QixDQUFDLENBQUMsU0FBUyxVQUFVLENBQ3ZELFNBQVEsMkJBQTJCLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FDaEUsWUFBVyxtQkFBbUIsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFLN0MsT0FBTyxDQUFDLFlBQVk7SUFIdEIsWUFDRSxFQUFFLEVBQUUsWUFBWSxFQUNoQixJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUNULFlBQVksRUFBRSxVQUFVLENBQUMsQ0FBQyxDQUFDLEVBR3BDO0lBRUQsU0FBUyxDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxNQUFNLEdBQUcsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUV2RTtDQUNGIn0=