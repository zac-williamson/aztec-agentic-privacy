import type { Bufferable } from '@aztec/foundation/serialize';
import type { SiblingPath } from '@aztec/foundation/trees';
/**
 * Defines the interface for a source of sibling paths.
 */
export interface SiblingPathSource {
    /**
     * Returns the sibling path for a requested leaf index.
     * @param index - The index of the leaf for which a sibling path is required.
     * @param includeUncommitted - Set to true to include uncommitted updates in the sibling path.
     */
    getSiblingPath<N extends number>(index: bigint, includeUncommitted: boolean): Promise<SiblingPath<N>>;
}
/**
 * Defines the interface for a Merkle tree.
 */
export interface MerkleTree<T extends Bufferable = Buffer> extends SiblingPathSource {
    /**
     * Returns the current root of the tree.
     * @param includeUncommitted - Set to true to include uncommitted updates in the calculated root.
     */
    getRoot(includeUncommitted: boolean): Buffer;
    /**
     * Returns the number of leaves in the tree.
     * @param includeUncommitted - Set to true to include uncommitted updates in the returned value.
     */
    getNumLeaves(includeUncommitted: boolean): bigint;
    /**
     * Commit pending updates to the tree.
     */
    commit(): Promise<void>;
    /**
     * Returns the depth of the tree.
     */
    getDepth(): number;
    /**
     * Rollback pending update to the tree.
     */
    rollback(): Promise<void>;
    /**
     * Returns the value of a leaf at the specified index.
     * @param index - The index of the leaf value to be returned.
     * @param includeUncommitted - Set to true to include uncommitted updates in the data set.
     */
    getLeafValue(index: bigint, includeUncommitted: boolean): T | undefined;
    /**
     * Returns the index of a leaf given its value, or undefined if no leaf with that value is found.
     * @param leaf - The leaf value to look for.
     * @param includeUncommitted - Indicates whether to include uncommitted data.
     * @returns The index of the first leaf found with a given value (undefined if not found).
     */
    findLeafIndex(leaf: T, includeUncommitted: boolean): bigint | undefined;
    /**
     * Returns the first index containing a leaf value after `startIndex`.
     * @param leaf - The leaf value to look for.
     * @param startIndex - The index to start searching from (used when skipping nullified messages)
     * @param includeUncommitted - Indicates whether to include uncommitted data.
     * @returns The index of the first leaf found with a given value (undefined if not found).
     */
    findLeafIndexAfter(leaf: T, startIndex: bigint, includeUncommitted: boolean): bigint | undefined;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWVya2xlX3RyZWUuZC50cyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9pbnRlcmZhY2VzL21lcmtsZV90cmVlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxFQUFFLFVBQVUsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBQzlELE9BQU8sS0FBSyxFQUFFLFdBQVcsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBRTNEOztHQUVHO0FBQ0gsTUFBTSxXQUFXLGlCQUFpQjtJQUNoQzs7OztPQUlHO0lBQ0gsY0FBYyxDQUFDLENBQUMsU0FBUyxNQUFNLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxrQkFBa0IsRUFBRSxPQUFPLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0NBQ3ZHO0FBRUQ7O0dBRUc7QUFDSCxNQUFNLFdBQVcsVUFBVSxDQUFDLENBQUMsU0FBUyxVQUFVLEdBQUcsTUFBTSxDQUFFLFNBQVEsaUJBQWlCO0lBQ2xGOzs7T0FHRztJQUNILE9BQU8sQ0FBQyxrQkFBa0IsRUFBRSxPQUFPLEdBQUcsTUFBTSxDQUFDO0lBRTdDOzs7T0FHRztJQUNILFlBQVksQ0FBQyxrQkFBa0IsRUFBRSxPQUFPLEdBQUcsTUFBTSxDQUFDO0lBRWxEOztPQUVHO0lBQ0gsTUFBTSxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUV4Qjs7T0FFRztJQUNILFFBQVEsSUFBSSxNQUFNLENBQUM7SUFFbkI7O09BRUc7SUFDSCxRQUFRLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBRTFCOzs7O09BSUc7SUFDSCxZQUFZLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxrQkFBa0IsRUFBRSxPQUFPLEdBQUcsQ0FBQyxHQUFHLFNBQVMsQ0FBQztJQUV4RTs7Ozs7T0FLRztJQUNILGFBQWEsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLGtCQUFrQixFQUFFLE9BQU8sR0FBRyxNQUFNLEdBQUcsU0FBUyxDQUFDO0lBRXhFOzs7Ozs7T0FNRztJQUNILGtCQUFrQixDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxrQkFBa0IsRUFBRSxPQUFPLEdBQUcsTUFBTSxHQUFHLFNBQVMsQ0FBQztDQUNsRyJ9