export function execInWriteTx(store, fn) {
    const currentWrite = store.getCurrentWriteTx();
    if (currentWrite) {
        return fn(currentWrite);
    } else {
        return store.transactionAsync(fn);
    }
}
export async function execInReadTx(store, fn) {
    const currentWrite = store.getCurrentWriteTx();
    if (currentWrite) {
        return await fn(currentWrite);
    } else {
        const tx = store.getReadTx();
        try {
            return await fn(tx);
        } finally{
            tx.close();
        }
    }
}
