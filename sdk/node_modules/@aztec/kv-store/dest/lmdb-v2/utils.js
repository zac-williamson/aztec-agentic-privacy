import { MAXIMUM_KEY, fromBufferKey, toBufferKey } from 'ordered-binary';
export function keyCmp(a, b) {
    return Buffer.compare(a[0], b[0]);
}
export function singleKeyCmp(a, b) {
    return Buffer.compare(a[0], b);
}
export function minKey(prefix) {
    return toBufferKey([
        prefix
    ]);
}
export function maxKey(prefix) {
    return toBufferKey([
        prefix,
        MAXIMUM_KEY
    ]);
}
export function serializeKey(prefix, key) {
    return toBufferKey([
        prefix,
        key
    ]);
}
export function deserializeKey(prefix, key) {
    const buf = Buffer.from(key);
    const parsed = fromBufferKey(buf);
    if (!Array.isArray(parsed) || parsed[0] !== prefix) {
        return false;
    }
    return parsed[1];
}
