import type { Bufferable } from '@aztec/foundation/serialize';
import type { AvmContext } from '../avm_context.js';
import { type Gas } from '../avm_gas.js';
import type { BufferCursor } from '../serialization/buffer_cursor.js';
import { Opcode, type OperandType } from '../serialization/instruction_serialization.js';
type InstructionConstructor = {
    new (...args: any[]): Instruction;
};
/**
 * Parent class for all AVM instructions.
 * It's most important aspects are execute and (de)serialize.
 */
export declare abstract class Instruction {
    /**
     * Consumes gas and executes the instruction.
     * This is the main entry point for the instruction.
     * @param context - The AvmContext in which the instruction executes.
     */
    abstract execute(context: AvmContext): Promise<void>;
    /**
     * Whether the instruction will modify the PC itself.
     */
    handlesPC(): boolean;
    /**
     * Generate a string representation of the instruction including
     * the instruction sub-class name all of its flags and operands.
     * @returns Thee string representation.
     */
    toString(): string;
    static fromBuffer(this: InstructionConstructor & {
        wireFormat: OperandType[];
        as: any;
    }, buf: BufferCursor | Buffer): Instruction;
    toBuffer(): Buffer;
    /**
     * Returns a new instruction instance that can be serialized with the given opcode and wire format.
     * @param opcode The opcode of the instruction.
     * @param wireFormat The wire format of the instruction.
     * @returns The new instruction instance.
     */
    as(opcode: Opcode, wireFormat: OperandType[]): Instruction & Bufferable;
    /**
     * Returns a new instruction class that can be deserialized with the given opcode and wire format.
     * @param opcode The opcode of the instruction.
     * @param wireFormat The wire format of the instruction.
     * @returns The new instruction class.
     */
    static as(this: InstructionConstructor, wireFormat: OperandType[]): InstructionConstructor & {
        fromBuffer: (buf: Buffer<ArrayBufferLike> | BufferCursor) => Instruction;
    };
    /**
     * Returns the base gas cost for the instruction.
     * @returns The base gas cost.
     */
    protected baseGasCost(indirectOperandsCount: number, relativeOperandsCount: number): Gas;
    /**
     * Computes the dynamic gas cost for the instruction
     * @param dynMultiplier - The multiplier for the dynamic gas cost.
     * @returns The dynamic gas cost.
     */
    protected dynamicGasCost(dynMultiplier?: number): Gas;
    /**
     * Returns the stringified type of the instruction.
     * Instruction sub-classes should have a static `type` property.
     */
    get type(): string;
    /**
     * Returns the opcode of the instruction.
     * Instruction sub-classes should have a static `opcode` property.
     */
    get opcode(): Opcode;
}
export {};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5zdHJ1Y3Rpb24uZC50cyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9wdWJsaWMvYXZtL29wY29kZXMvaW5zdHJ1Y3Rpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLEVBQUUsVUFBVSxFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFJOUQsT0FBTyxLQUFLLEVBQUUsVUFBVSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDcEQsT0FBTyxFQUFFLEtBQUssR0FBRyxFQUE0RSxNQUFNLGVBQWUsQ0FBQztBQUNuSCxPQUFPLEtBQUssRUFBRSxZQUFZLEVBQUUsTUFBTSxtQ0FBbUMsQ0FBQztBQUN0RSxPQUFPLEVBQUUsTUFBTSxFQUFFLEtBQUssV0FBVyxFQUE0QixNQUFNLCtDQUErQyxDQUFDO0FBRW5ILEtBQUssc0JBQXNCLEdBQUc7SUFDNUIsS0FBSyxHQUFHLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxXQUFXLENBQUM7Q0FDbkMsQ0FBQztBQUVGOzs7R0FHRztBQUNILDhCQUFzQixXQUFXO0lBQy9COzs7O09BSUc7SUFDSCxTQUFnQixPQUFPLENBQUMsT0FBTyxFQUFFLFVBQVUsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7SUFFNUQ7O09BRUc7SUFDSSxTQUFTLElBQUksT0FBTyxDQUUxQjtJQUVEOzs7O09BSUc7SUFDSSxRQUFRLElBQUksTUFBTSxDQVN4QjtJQUdELE9BQWMsVUFBVSxDQUN0QixJQUFJLEVBQUUsc0JBQXNCLEdBQUc7UUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLENBQUM7UUFBQyxFQUFFLEVBQUUsR0FBRyxDQUFBO0tBQUUsRUFDckUsR0FBRyxFQUFFLFlBQVksR0FBRyxNQUFNLEdBQ3pCLFdBQVcsQ0FFYjtJQUdNLFFBQVEsSUFBSSxNQUFNLENBS3hCO0lBRUQ7Ozs7O09BS0c7SUFDSSxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLEdBQUcsV0FBVyxHQUFHLFVBQVUsQ0FPN0U7SUFFRDs7Ozs7T0FLRztJQUNILE9BQWMsRUFBRSxDQUFDLElBQUksRUFBRSxzQkFBc0IsRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFOztNQVF2RTtJQUVEOzs7T0FHRztJQUNILFNBQVMsQ0FBQyxXQUFXLENBQUMscUJBQXFCLEVBQUUsTUFBTSxFQUFFLHFCQUFxQixFQUFFLE1BQU0sR0FBRyxHQUFHLENBRXZGO0lBRUQ7Ozs7T0FJRztJQUNILFNBQVMsQ0FBQyxjQUFjLENBQUMsYUFBYSxHQUFFLE1BQVUsR0FBRyxHQUFHLENBRXZEO0lBRUQ7OztPQUdHO0lBQ0gsSUFBVyxJQUFJLElBQUksTUFBTSxDQUl4QjtJQUVEOzs7T0FHRztJQUNILElBQVcsTUFBTSxJQUFJLE1BQU0sQ0FRMUI7Q0FDRiJ9