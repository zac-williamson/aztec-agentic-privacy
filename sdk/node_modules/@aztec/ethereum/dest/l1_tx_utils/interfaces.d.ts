import type { L1BlobInputs, L1TxState } from './types.js';
/**
 * Interface for L1 transaction state storage.
 * Implementations handle persistence of transaction states across restarts.
 */
export interface IL1TxStore {
    /**
     * Gets the next available state ID for an account.
     */
    consumeNextStateId(account: string): Promise<number>;
    /**
     * Saves a single transaction state for a specific account.
     * Does not save blob data (see saveBlobs).
     * @param account - The sender account address
     * @param state - Transaction state to save
     */
    saveState(account: string, state: L1TxState): Promise<L1TxState>;
    /**
     * Saves blobs for a given state.
     * @param account - The sender account address
     * @param stateId - The state ID
     * @param blobInputs - Blob inputs to save
     */
    saveBlobs(account: string, stateId: number, blobInputs: L1BlobInputs | undefined): Promise<void>;
    /**
     * Loads all transaction states for a specific account.
     * @param account - The sender account address
     * @returns Array of transaction states with their IDs
     */
    loadStates(account: string): Promise<L1TxState[]>;
    /**
     * Loads a single state by ID.
     * @param account - The sender account address
     * @param stateId - The state ID
     * @returns The transaction state or undefined if not found
     */
    loadState(account: string, stateId: number): Promise<L1TxState | undefined>;
    /**
     * Deletes a specific state and its associated blobs.
     * @param account - The sender account address
     * @param stateId - The state ID to delete
     */
    deleteState(account: string, ...stateId: number[]): Promise<void>;
    /**
     * Clears all transaction states for a specific account.
     * @param account - The sender account address
     */
    clearStates(account: string): Promise<void>;
    /**
     * Gets all accounts that have stored states.
     * @returns Array of account addresses
     */
    getAllAccounts(): Promise<string[]>;
    /**
     * Closes the store.
     */
    close(): Promise<void>;
}
/**
 * Interface for L1 transaction metrics recording.
 * Implementations handle tracking of transaction lifecycle and gas costs.
 */
export interface IL1TxMetrics {
    /**
     * Records metrics when a transaction is mined
     * @param state - The L1 transaction state
     * @param l1Timestamp - The current L1 timestamp
     */
    recordMinedTx(state: L1TxState, l1Timestamp: Date): void;
    /**
     * Records metrics when a transaction is dropped
     * @param state - The L1 transaction state
     */
    recordDroppedTx(state: L1TxState): void;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50ZXJmYWNlcy5kLnRzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2wxX3R4X3V0aWxzL2ludGVyZmFjZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLEVBQUUsWUFBWSxFQUFFLFNBQVMsRUFBRSxNQUFNLFlBQVksQ0FBQztBQUUxRDs7O0dBR0c7QUFDSCxNQUFNLFdBQVcsVUFBVTtJQUN6Qjs7T0FFRztJQUNILGtCQUFrQixDQUFDLE9BQU8sRUFBRSxNQUFNLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBRXJEOzs7OztPQUtHO0lBQ0gsU0FBUyxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLFNBQVMsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7SUFFakU7Ozs7O09BS0c7SUFDSCxTQUFTLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxZQUFZLEdBQUcsU0FBUyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUVqRzs7OztPQUlHO0lBQ0gsVUFBVSxDQUFDLE9BQU8sRUFBRSxNQUFNLEdBQUcsT0FBTyxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUM7SUFFbEQ7Ozs7O09BS0c7SUFDSCxTQUFTLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsTUFBTSxHQUFHLE9BQU8sQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDLENBQUM7SUFFNUU7Ozs7T0FJRztJQUNILFdBQVcsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLEdBQUcsT0FBTyxFQUFFLE1BQU0sRUFBRSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUVsRTs7O09BR0c7SUFDSCxXQUFXLENBQUMsT0FBTyxFQUFFLE1BQU0sR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7SUFFNUM7OztPQUdHO0lBQ0gsY0FBYyxJQUFJLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO0lBRXBDOztPQUVHO0lBQ0gsS0FBSyxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUN4QjtBQUVEOzs7R0FHRztBQUNILE1BQU0sV0FBVyxZQUFZO0lBQzNCOzs7O09BSUc7SUFDSCxhQUFhLENBQUMsS0FBSyxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsSUFBSSxHQUFHLElBQUksQ0FBQztJQUV6RDs7O09BR0c7SUFDSCxlQUFlLENBQUMsS0FBSyxFQUFFLFNBQVMsR0FBRyxJQUFJLENBQUM7Q0FDekMifQ==