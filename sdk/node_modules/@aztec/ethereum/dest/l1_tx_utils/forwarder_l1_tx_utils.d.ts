import type { BlobKzgInstance } from '@aztec/blob-lib/types';
import { EthAddress } from '@aztec/foundation/eth-address';
import type { Logger } from '@aztec/foundation/log';
import type { DateProvider } from '@aztec/foundation/timer';
import type { ViemClient } from '../types.js';
import type { L1TxUtilsConfig } from './config.js';
import type { L1SignerSource } from './factory.js';
import type { IL1TxMetrics, IL1TxStore } from './interfaces.js';
import { L1TxUtils } from './l1_tx_utils.js';
import { Delayer } from './tx_delayer.js';
import type { L1BlobInputs, L1TxConfig, L1TxRequest, SigningCallback } from './types.js';
/**
 * Extends L1TxUtils to wrap all transactions through a forwarder contract.
 * This is mainly used for testing the archiver's ability to decode transactions that go through proxies.
 */
export declare class ForwarderL1TxUtils extends L1TxUtils {
    private readonly forwarderAddress;
    constructor(client: ViemClient, senderAddress: EthAddress, signingCallback: SigningCallback, logger: Logger | undefined, dateProvider: DateProvider | undefined, config: Partial<L1TxUtilsConfig>, debugMaxGasLimit: boolean, store: IL1TxStore | undefined, metrics: IL1TxMetrics | undefined, kzg: BlobKzgInstance | undefined, delayer: Delayer | undefined, forwarderAddress: EthAddress);
    /**
     * Wraps the transaction request in a call to the forwarder contract.
     */
    private wrapInForwarder;
    /**
     * Override sendAndMonitorTransaction to wrap the request in a forwarder call.
     */
    sendAndMonitorTransaction(request: L1TxRequest, gasConfig?: L1TxConfig, blobInputs?: L1BlobInputs): Promise<{
        receipt: import("viem").TransactionReceipt;
        state: import("./types.js").L1TxState;
    }>;
}
export declare function createForwarderL1TxUtils(source: L1SignerSource, forwarderAddress: EthAddress, deps?: {
    logger?: Logger;
    dateProvider?: DateProvider;
    store?: IL1TxStore;
    metrics?: IL1TxMetrics;
    kzg?: BlobKzgInstance;
    delayer?: Delayer;
}, config?: Partial<L1TxUtilsConfig> & {
    debugMaxGasLimit?: boolean;
}): ForwarderL1TxUtils;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9yd2FyZGVyX2wxX3R4X3V0aWxzLmQudHMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvbDFfdHhfdXRpbHMvZm9yd2FyZGVyX2wxX3R4X3V0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxFQUFFLGVBQWUsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQzdELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUMzRCxPQUFPLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUNwRCxPQUFPLEtBQUssRUFBRSxZQUFZLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUs1RCxPQUFPLEtBQUssRUFBRSxVQUFVLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDOUMsT0FBTyxLQUFLLEVBQUUsZUFBZSxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQ25ELE9BQU8sS0FBSyxFQUFFLGNBQWMsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUVuRCxPQUFPLEtBQUssRUFBRSxZQUFZLEVBQUUsVUFBVSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDaEUsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQzdDLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMxQyxPQUFPLEtBQUssRUFBRSxZQUFZLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSxlQUFlLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFFekY7OztHQUdHO0FBQ0gscUJBQWEsa0JBQW1CLFNBQVEsU0FBUztJQWE3QyxPQUFPLENBQUMsUUFBUSxDQUFDLGdCQUFnQjtJQVpuQyxZQUNFLE1BQU0sRUFBRSxVQUFVLEVBQ2xCLGFBQWEsRUFBRSxVQUFVLEVBQ3pCLGVBQWUsRUFBRSxlQUFlLEVBQ2hDLE1BQU0sRUFBRSxNQUFNLEdBQUcsU0FBUyxFQUMxQixZQUFZLEVBQUUsWUFBWSxHQUFHLFNBQVMsRUFDdEMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxlQUFlLENBQUMsRUFDaEMsZ0JBQWdCLEVBQUUsT0FBTyxFQUN6QixLQUFLLEVBQUUsVUFBVSxHQUFHLFNBQVMsRUFDN0IsT0FBTyxFQUFFLFlBQVksR0FBRyxTQUFTLEVBQ2pDLEdBQUcsRUFBRSxlQUFlLEdBQUcsU0FBUyxFQUNoQyxPQUFPLEVBQUUsT0FBTyxHQUFHLFNBQVMsRUFDWCxnQkFBZ0IsRUFBRSxVQUFVLEVBZTlDO0lBRUQ7O09BRUc7SUFDSCxPQUFPLENBQUMsZUFBZTtJQWV2Qjs7T0FFRztJQUNhLHlCQUF5QixDQUFDLE9BQU8sRUFBRSxXQUFXLEVBQUUsU0FBUyxDQUFDLEVBQUUsVUFBVSxFQUFFLFVBQVUsQ0FBQyxFQUFFLFlBQVk7OztPQUloSDtDQUNGO0FBRUQsd0JBQWdCLHdCQUF3QixDQUN0QyxNQUFNLEVBQUUsY0FBYyxFQUN0QixnQkFBZ0IsRUFBRSxVQUFVLEVBQzVCLElBQUksQ0FBQyxFQUFFO0lBQ0wsTUFBTSxDQUFDLEVBQUUsTUFBTSxDQUFDO0lBQ2hCLFlBQVksQ0FBQyxFQUFFLFlBQVksQ0FBQztJQUM1QixLQUFLLENBQUMsRUFBRSxVQUFVLENBQUM7SUFDbkIsT0FBTyxDQUFDLEVBQUUsWUFBWSxDQUFDO0lBQ3ZCLEdBQUcsQ0FBQyxFQUFFLGVBQWUsQ0FBQztJQUN0QixPQUFPLENBQUMsRUFBRSxPQUFPLENBQUM7Q0FDbkIsRUFDRCxNQUFNLENBQUMsRUFBRSxPQUFPLENBQUMsZUFBZSxDQUFDLEdBQUc7SUFBRSxnQkFBZ0IsQ0FBQyxFQUFFLE9BQU8sQ0FBQTtDQUFFLEdBQ2pFLGtCQUFrQixDQWdCcEIifQ==